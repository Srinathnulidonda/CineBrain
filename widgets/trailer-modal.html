<!-- Trailer Modal Widget -->
<!-- YouTube trailer player modal -->
<div class="modal fade" id="trailer-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content bg-dark">
            <div class="modal-header border-0">
                <h5 class="modal-title">
                    <i class="bi bi-play-circle-fill me-2"></i>
                    Trailer
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-0">
                <div class="ratio ratio-16x9">
                    <iframe id="trailer-iframe" src="" title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                    </iframe>
                </div>
            </div>
            <!-- Optional info section -->
            <div class="modal-footer border-0">
                <small class="text-muted">
                    <i class="bi bi-info-circle"></i>
                    Trailer provided by YouTube
                </small>
            </div>
        </div>
    </div>
</div>

<!-- Trigger button example -->
<button class="btn btn-primary" onclick="playTrailer('YOUTUBE_VIDEO_ID')">
    <i class="bi bi-play-fill"></i> Watch Trailer
</button>

<script>
    function playTrailer(videoId) {
        const modal = new bootstrap.Modal(document.getElementById('trailer-modal'));
        const iframe = document.getElementById('trailer-iframe');

        // Set video URL with autoplay
        iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;

        // Show modal
        modal.show();

        // Clean up on close
        document.getElementById('trailer-modal').addEventListener('hidden.bs.modal', () => {
            iframe.src = '';
        }, { once: true });
    }
</script>

<style>
    #trailer-modal .modal-content {
        background: var(--bg-secondary);
        border: 1px solid var(--border-color);
    }

    #trailer-modal .modal-header {
        padding: 1rem 1.5rem;
    }

    #trailer-modal .modal-footer {
        padding: 0.5rem 1.5rem;
        justify-content: center;
    }
</style>