<nav class="navbar">
    <div class="container">
        <div class="navbar-content">
            <a href="/" class="navbar-brand" data-page="home">CineScope</a>
            
            <div class="flex items-center gap-4">
                <div class="search-container">
                    <div class="relative">
                        <svg class="search-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        <input 
                            type="text" 
                            id="search-input" 
                            class="search-input" 
                            placeholder="Search movies, TV shows, anime..."
                            autocomplete="off"
                        >
                    </div>
                </div>
                
                <ul class="navbar-nav">
                    <li><a href="/" data-page="home">Home</a></li>
                    <li><a href="/trending" data-page="trending">Trending</a></li>
                    <li><a href="/movies" data-page="movies">Movies</a></li>
                    <li><a href="/tv-shows" data-page="tv-shows">TV Shows</a></li>
                    <li><a href="/anime" data-page="anime">Anime</a></li>
                    <li class="relative">
                        <a href="#" class="dropdown-toggle">Languages</a>
                        <div class="dropdown-menu">
                            <a href="/languages/english" data-page="english">English</a>
                            <a href="/languages/hindi" data-page="hindi">Hindi</a>
                            <a href="/languages/telugu" data-page="telugu">Telugu</a>
                            <a href="/languages/tamil" data-page="tamil">Tamil</a>
                            <a href="/languages/kannada" data-page="kannada">Kannada</a>
                            <a href="/languages/malayalam" data-page="malayalam">Malayalam</a>
                        </div>
                    </li>
                </ul>
                
                <div class="navbar-actions">
                    <div data-auth="false">
                        <a href="/login" class="btn btn-outline btn-sm" data-page="login">Login</a>
                    </div>
                    
                    <div data-auth="true" class="hidden">
                        <div class="flex items-center gap-2">
                            <div class="relative user-menu">
                                <button class="user-menu-toggle flex items-center gap-2 p-2 rounded-lg hover:bg-gray-800 transition-colors">
                                    <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm">
                                        <span data-user-info="username"></span>
                                    </div>
                                </button>
                                <div class="user-menu-dropdown absolute right-0 top-full mt-2 w-48 bg-gray-900 rounded-lg shadow-lg border border-gray-700 hidden">
                                    <a href="/dashboard" data-page="dashboard" class="block px-4 py-2 hover:bg-gray-800 text-white">Dashboard</a>
                                    <a href="/profile" data-page="profile" class="block px-4 py-2 hover:bg-gray-800 text-white">Profile</a>
                                    <a href="/user/watchlist" data-page="watchlist" class="block px-4 py-2 hover:bg-gray-800 text-white">Watchlist</a>
                                    <a href="/user/favorites" data-page="favorites" class="block px-4 py-2 hover:bg-gray-800 text-white">Favorites</a>
                                    <hr class="border-gray-700 my-2">
                                    <button data-action="logout" class="block w-full text-left px-4 py-2 hover:bg-gray-800 text-red-400">Logout</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="mobile-menu-toggle">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</nav>

<style>
/* Dropdown Styles */
.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background: var(--bg-card);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    padding: 0.5rem 0;
    min-width: 150px;
    z-index: 50;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all var(--transition-fast);
}

.dropdown-toggle:hover + .dropdown-menu,
.dropdown-menu:hover {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-menu a {
    display: block;
    padding: 0.5rem 1rem;
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.875rem;
    transition: all var(--transition-fast);
}

.dropdown-menu a:hover {
    background: var(--bg-tertiary);
    color: var(--primary-blue-light);
}

/* User Menu */
.user-menu {
    position: relative;
}

.user-menu-toggle:hover + .user-menu-dropdown,
.user-menu-dropdown:hover {
    display: block;
}

.user-menu-dropdown {
    z-index: 60;
}

.user-menu-dropdown a,
.user-menu-dropdown button {
    font-size: 0.875rem;
    transition: all var(--transition-fast);
    border: none;
    background: none;
    color: var(--text-secondary);
}

.user-menu-dropdown a:hover,
.user-menu-dropdown button:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

/* Mobile responsive adjustments */
@media (max-width: 640px) {
    .navbar-nav {
        position: fixed;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--bg-primary);
        flex-direction: column;
        padding: 1rem;
        box-shadow: var(--shadow-lg);
        transform: translateY(-100%);
        transition: transform var(--transition-normal);
    }
    
    .navbar-nav.active {
        transform: translateY(0);
    }
    
    .navbar-nav li {
        margin: 0.5rem 0;
    }
    
    .dropdown-menu {
        position: static;
        opacity: 1;
        visibility: visible;
        transform: none;
        box-shadow: none;
        background: var(--bg-tertiary);
        margin-left: 1rem;
        margin-top: 0.5rem;
        display: none;
    }
    
    .dropdown-toggle:hover + .dropdown-menu {
        display: block;
    }
    
    .search-container {
        order: -1;
        width: 100%;
        margin-bottom: 1rem;
    }
    
    .navbar-actions {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
}
</style>

<script>
// Header JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // User menu toggle
    const userMenuToggle = document.querySelector('.user-menu-toggle');
    const userMenuDropdown = document.querySelector('.user-menu-dropdown');
    
    if (userMenuToggle && userMenuDropdown) {
        userMenuToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            userMenuDropdown.classList.toggle('hidden');
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function() {
            userMenuDropdown.classList.add('hidden');
        });
    }
    
    // Mobile menu toggle
    const mobileToggle = document.querySelector('.mobile-menu-toggle');
    const navbarNav = document.querySelector('.navbar-nav');
    
    if (mobileToggle && navbarNav) {
        mobileToggle.addEventListener('click', function() {
            navbarNav.classList.toggle('active');
        });
    }
    
    // Dropdown hover for desktop
    const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
    dropdownToggles.forEach(toggle => {
        const dropdown = toggle.nextElementSibling;
        if (dropdown) {
            let hoverTimeout;
            
            const showDropdown = () => {
                clearTimeout(hoverTimeout);
                dropdown.style.opacity = '1';
                dropdown.style.visibility = 'visible';
                dropdown.style.transform = 'translateY(0)';
            };
            
            const hideDropdown = () => {
                hoverTimeout = setTimeout(() => {
                    dropdown.style.opacity = '0';
                    dropdown.style.visibility = 'hidden';
                    dropdown.style.transform = 'translateY(-10px)';
                }, 150);
            };
            
            toggle.addEventListener('mouseenter', showDropdown);
            toggle.addEventListener('mouseleave', hideDropdown);
            dropdown.addEventListener('mouseenter', showDropdown);
            dropdown.addEventListener('mouseleave', hideDropdown);
        }
    });
});
</script>