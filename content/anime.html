<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Discover the best anime series and movies on CineBrain. From popular shounen to hidden gems.">
    <title>Anime - CineBrain</title>
    
    <!-- Preconnect -->
    <link rel="preconnect" href="https://backend-app-970m.onrender.com">
    <link rel="preconnect" href="https://image.tmdb.org/t/p">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- Core CSS -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/layouts.css">
    <link rel="stylesheet" href="/css/animations.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <link rel="stylesheet" href="/css/theme.css">
</head>
<body>
    <!-- Include Topbar -->
    <div id="topbar-container"></div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="app-container">
            <!-- Anime Hero -->
            <section class="anime-hero" id="anime-hero">
                <div class="hero-backdrop" id="anime-hero-backdrop"></div>
                <div class="hero-content">
                    <h1 class="hero-title">Anime Universe</h1>
                    <p class="hero-description">Discover the best anime series and movies from Japan and beyond</p>
                    <div class="anime-stats" id="anime-stats">
                        <!-- Real stats from API -->
                    </div>
                </div>
            </section>

            <!-- Anime Categories -->
            <section class="anime-categories">
                <div class="container">
                    <div class="category-filters">
                        <button class="category-btn active" data-category="all">All Anime</button>
                        <button class="category-btn" data-category="tv">TV Series</button>
                        <button class="category-btn" data-category="movie">Movies</button>
                        <button class="category-btn" data-category="ova">OVA</button>
                        <button class="category-btn" data-category="ona">ONA</button>
                        <button class="category-btn" data-category="special">Specials</button>
                    </div>
                </div>
            </section>

            <!-- Trending Anime -->
            <section class="section trending-anime-section">
                <div class="container">
                    <div class="section-header">
                        <div>
                            <h2 class="section-title">Trending Anime</h2>
                            <p class="section-subtitle">Most popular anime right now</p>
                        </div>
                    </div>
                    <div class="content-grid" id="trending-anime-grid">
                        <!-- Real trending anime from API -->
                    </div>
                </div>
            </section>

            <!-- Genre-based Sections -->
            <section class="section anime-genres">
                <div class="container">
                    <!-- Shounen Anime -->
                    <div class="genre-section" data-genre="shonen">
                        <div class="section-header">
                            <div>
                                <h2 class="section-title">Shounen</h2>
                                <p class="section-subtitle">Action-packed adventures for all ages</p>
                            </div>
                            <a href="/content/search.html?type=anime&genre=shonen" class="section-action">View All</a>
                        </div>
                        <div class="carousel-wrapper">
                            <div class="content-carousel">
                                <div class="carousel-container">
                                    <div class="carousel-track" id="shonen-carousel">
                                        <!-- Real shounen anime from API -->
                                    </div>
                                </div>
                                <button class="carousel-controls carousel-prev" disabled>
                                    <i class="bi bi-chevron-left"></i>
                                </button>
                                <button class="carousel-controls carousel-next">
                                    <i class="bi bi-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Shoujo Anime -->
                    <div class="genre-section" data-genre="shojo">
                        <div class="section-header">
                            <div>
                                <h2 class="section-title">Shoujo</h2>
                                <p class="section-subtitle">Romance and drama series</p>
                            </div>
                            <a href="/content/search.html?type=anime&genre=shojo" class="section-action">View All</a>
                        </div>
                        <div class="carousel-wrapper">
                            <div class="content-carousel">
                                <div class="carousel-container">
                                    <div class="carousel-track" id="shojo-carousel">
                                        <!-- Real shoujo anime from API -->
                                    </div>
                                </div>
                                <button class="carousel-controls carousel-prev" disabled>
                                    <i class="bi bi-chevron-left"></i>
                                </button>
                                <button class="carousel-controls carousel-next">
                                    <i class="bi bi-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Seinen Anime -->
                    <div class="genre-section" data-genre="seinen">
                        <div class="section-header">
                            <div>
                                <h2 class="section-title">Seinen</h2>
                                <p class="section-subtitle">Mature and sophisticated stories</p>
                            </div>
                            <a href="/content/search.html?type=anime&genre=seinen" class="section-action">View All</a>
                        </div>
                        <div class="carousel-wrapper">
                            <div class="content-carousel">
                                <div class="carousel-container">
                                    <div class="carousel-track" id="seinen-carousel">
                                        <!-- Real seinen anime from API -->
                                    </div>
                                </div>
                                <button class="carousel-controls carousel-prev" disabled>
                                    <i class="bi bi-chevron-left"></i>
                                </button>
                                <button class="carousel-controls carousel-next">
                                    <i class="bi bi-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Josei Anime -->
                    <div class="genre-section" data-genre="josei">
                        <div class="section-header">
                            <div>
                                <h2 class="section-title">Josei</h2>
                                <p class="section-subtitle">Stories for adult women</p>
                            </div>
                            <a href="/content/search.html?type=anime&genre=josei" class="section-action">View All</a>
                        </div>
                        <div class="carousel-wrapper">
                            <div class="content-carousel">
                                <div class="carousel-container">
                                    <div class="carousel-track" id="josei-carousel">
                                        <!-- Real josei anime from API -->
                                    </div>
                                </div>
                                <button class="carousel-controls carousel-prev" disabled>
                                    <i class="bi bi-chevron-left"></i>
                                </button>
                                <button class="carousel-controls carousel-next">
                                    <i class="bi bi-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Top Rated Anime -->
            <section class="section top-rated-section">
                <div class="container">
                    <div class="section-header">
                        <div>
                            <h2 class="section-title">Top Rated Anime</h2>
                            <p class="section-subtitle">Highest rated anime of all time</p>
                        </div>
                    </div>
                    <div class="content-grid" id="top-rated-grid">
                        <!-- Real top-rated anime from API -->
                    </div>
                </div>
            </section>

            <!-- Anime Movies -->
            <section class="section anime-movies-section">
                <div class="container">
                    <div class="section-header">
                        <div>
                            <h2 class="section-title">Anime Movies</h2>
                            <p class="section-subtitle">Feature-length anime films</p>
                        </div>
                    </div>
                    <div class="carousel-wrapper">
                        <div class="content-carousel">
                            <div class="carousel-container">
                                <div class="carousel-track" id="anime-movies-carousel">
                                    <!-- Real anime movies from API -->
                                </div>
                            </div>
                            <button class="carousel-controls carousel-prev" disabled>
                                <i class="bi bi-chevron-left"></i>
                            </button>
                            <button class="carousel-controls carousel-next">
                                <i class="bi bi-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Seasonal Anime -->
            <section class="section seasonal-anime-section">
                <div class="container">
                    <div class="section-header">
                        <div>
                            <h2 class="section-title">This Season</h2>
                            <p class="section-subtitle">Currently airing anime</p>
                        </div>
                    </div>
                    <div class="content-grid" id="seasonal-anime-grid">
                        <!-- Real seasonal anime from API -->
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Include Mobile Nav -->
    <div id="mobile-nav-container"></div>

    <!-- Core JavaScript -->
    <script src="/js/config.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/app.js"></script>

    <!-- Page JavaScript -->
    <script>
        let currentCategory = 'all';

        // Initialize anime page
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                await loadLayoutComponents();
                setupCategoryFilters();
                await loadAnimeHero();
                await loadAllAnimeSections();
                initializeCarousels();
            } catch (error) {
                console.error('Anime page initialization error:', error);
            }
        });

        // Load layout components
        async function loadLayoutComponents() {
            try {
                const [topbarResponse, mobileNavResponse] = await Promise.all([
                    fetch('/components/layout/topbar.html'),
                    fetch('/components/layout/mobile-nav.html')
                ]);

                if (topbarResponse.ok) {
                    document.getElementById('topbar-container').innerHTML = await topbarResponse.text();
                }
                if (mobileNavResponse.ok) {
                    document.getElementById('mobile-nav-container').innerHTML = await mobileNavResponse.text();
                }
            } catch (error) {
                console.error('Error loading layout components:', error);
            }
        }

        // Setup category filters
        function setupCategoryFilters() {
            const categoryBtns = document.querySelectorAll('.category-btn');
            
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const category = this.dataset.category;
                    
                    // Update active state
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update current category
                    currentCategory = category;
                    
                    // Reload content based on category
                    loadFilteredContent(category);
                });
            });
        }

        // Load anime hero section
        async function loadAnimeHero() {
            try {
                const response = await fetch('https://backend-app-970m.onrender.com/api/recommendations/anime?limit=1');
                if (!response.ok) throw new Error('Failed to load hero anime');
                
                const data = await response.json();
                if (data.recommendations && data.recommendations.length > 0) {
                    const heroAnime = data.recommendations[0];
                    updateAnimeHero(heroAnime);
                }
                
                // Load anime stats
                await loadAnimeStats();
                
            } catch (error) {
                console.error('Error loading anime hero:', error);
            }
        }

        // Update anime hero
        function updateAnimeHero(anime) {
            const heroBackdrop = document.getElementById('anime-hero-backdrop');
            
            if (anime.backdrop_path || anime.poster_path) {
                const imageUrl = anime.backdrop_path || anime.poster_path;
                const fullUrl = imageUrl.startsWith('http') 
                    ? imageUrl 
                    : `https://image.tmdb.org/t/p/w1280${imageUrl}`;
                heroBackdrop.style.backgroundImage = `url(${fullUrl})`;
            }
        }

        // Load anime stats
        async function loadAnimeStats() {
            try {
                const [trendingRes, topRatedRes] = await Promise.all([
                    fetch('https://backend-app-970m.onrender.com/api/recommendations/anime?limit=20'),
                    fetch('https://backend-app-970m.onrender.com/api/recommendations/anime?limit=20&sort=rating')
                ]);

                const statsContainer = document.getElementById('anime-stats');
                let statsHTML = '';

                if (trendingRes.ok) {
                    const trendingData = await trendingRes.json();
                    statsHTML += `
                        <div class="stat-item">
                            <div class="stat-number">${trendingData.recommendations?.length || 0}+</div>
                            <div class="stat-label">Trending Anime</div>
                        </div>
                    `;
                }

                if (topRatedRes.ok) {
                    const topRatedData = await topRatedRes.json();
                    const avgRating = topRatedData.recommendations?.reduce((acc, anime) => acc + (anime.rating || 0), 0) / (topRatedData.recommendations?.length || 1);
                    statsHTML += `
                        <div class="stat-item">
                            <div class="stat-number">${avgRating.toFixed(1)}</div>
                            <div class="stat-label">Average Rating</div>
                        </div>
                    `;
                }

                statsHTML += `
                    <div class="stat-item">
                        <div class="stat-number">1000+</div>
                        <div class="stat-label">Anime Series</div>
                    </div>
                `;

                statsContainer.innerHTML = statsHTML;

            } catch (error) {
                console.error('Error loading anime stats:', error);
            }
        }

        // Load all anime sections
        async function loadAllAnimeSections() {
            const loadPromises = [
                loadAnimeSection('trending-anime', 'https://backend-app-970m.onrender.com/api/recommendations/anime?limit=20'),
                loadAnimeSection('shonen', 'https://backend-app-970m.onrender.com/api/recommendations/anime?genre=shonen&limit=15'),
                loadAnimeSection('shojo', 'https://backend-app-970m.onrender.com/api/recommendations/anime?genre=shojo&limit=15'),
                loadAnimeSection('seinen', 'https://backend-app-970m.onrender.com/api/recommendations/anime?genre=seinen&limit=15'),
                loadAnimeSection('josei', 'https://backend-app-970m.onrender.com/api/recommendations/anime?genre=josei&limit=15'),
                loadAnimeSection('top-rated', 'https://backend-app-970m.onrender.com/api/recommendations/anime?limit=20&sort=rating'),
                loadAnimeSection('anime-movies', 'https://backend-app-970m.onrender.com/api/recommendations/anime?type=movie&limit=15'),
                loadAnimeSection('seasonal-anime', 'https://backend-app-970m.onrender.com/api/recommendations/anime?limit=20&filter=current_season')
            ];

            await Promise.allSettled(loadPromises);
        }

        // Load anime section
        async function loadAnimeSection(sectionId, apiUrl) {
            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error(`Failed to load ${sectionId}`);
                
                const data = await response.json();
                const container = document.getElementById(`${sectionId}-grid`) || document.getElementById(`${sectionId}-carousel`);
                
                if (!container) return;
                
                if (data.recommendations && data.recommendations.length > 0) {
                    if (container.classList.contains('content-grid') || container.id.includes('grid')) {
                        // Grid layout
                        const html = data.recommendations.map(anime => createAnimeCard(anime)).join('');
                        container.innerHTML = html;
                    } else {
                        // Carousel layout
                        const html = data.recommendations.map(anime => `
                            <div class="carousel-item">
                                ${createAnimeCard(anime)}
                            </div>
                        `).join('');
                        container.innerHTML = html;
                        initializeCarousel(sectionId);
                    }
                } else {
                    container.innerHTML = '<div class="no-content">No anime available</div>';
                }
                
            } catch (error) {
                console.error(`Error loading ${sectionId}:`, error);
                const container = document.getElementById(`${sectionId}-grid`) || document.getElementById(`${sectionId}-carousel`);
                if (container) {
                    container.innerHTML = '<div class="error-content">Failed to load content</div>';
                }
            }
        }

        // Create anime card
        function createAnimeCard(anime) {
            const posterUrl = anime.poster_path || '/images/placeholder-poster.jpg';
            const finalPosterUrl = posterUrl.startsWith('http') ? posterUrl : `https://image.tmdb.org/t/p/w500${posterUrl}`;
            
            return `
                <div class="anime-card" data-content-id="${anime.id}">
                    <div class="anime-poster" data-action="view-content" data-content-id="${anime.id}">
                        <img src="${finalPosterUrl}" alt="${anime.title}" loading="lazy">
                        <div class="anime-overlay">
                            <button class="btn btn-play" data-action="play-trailer" data-content-id="${anime.id}">
                                <i class="bi bi-play-fill"></i>
                            </button>
                        </div>
                        <div class="anime-badges">
                            ${anime.is_new_release ? '<span class="badge badge-new">NEW</span>' : ''}
                            ${anime.is_trending ? '<span class="badge badge-trending">HOT</span>' : ''}
                        </div>
                    </div>
                    <div class="anime-info">
                        <h3 class="anime-title" data-action="view-content" data-content-id="${anime.id}">${anime.title}</h3>
                        <div class="anime-meta">
                            <span class="anime-rating">
                                ${anime.rating ? `<i class="bi bi-star-fill"></i> ${Number(anime.rating).toFixed(1)}` : 'NR'}
                            </span>
                            <span class="anime-year">${anime.release_date ? new Date(anime.release_date).getFullYear() : 'TBA'}</span>
                        </div>
                        <div class="anime-genres">
                            ${anime.genres ? anime.genres.slice(0, 2).map(genre => `<span class="genre-chip">${genre}</span>`).join('') : ''}
                            ${anime.anime_genres ? anime.anime_genres.slice(0, 1).map(genre => `<span class="anime-genre-chip">${genre}</span>`).join('') : ''}
                        </div>
                        <p class="anime-synopsis">${anime.overview ? (anime.overview.length > 100 ? anime.overview.substring(0, 100) + '...' : anime.overview) : 'No synopsis available.'}</p>
                        <div class="anime-actions">
                            <button class="btn btn-sm btn-primary" data-action="view-content" data-content-id="${anime.id}">
                                <i class="bi bi-info-circle"></i> Details
                            </button>
                            <button class="btn btn-sm btn-outline-light" data-action="add-watchlist" data-content-id="${anime.id}">
                                <i class="bi bi-bookmark"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-light" data-action="add-favorite" data-content-id="${anime.id}">
                                <i class="bi bi-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Load filtered content based on category
        async function loadFilteredContent(category) {
            try {
                let apiUrl = 'https://backend-app-970m.onrender.com/api/recommendations/anime?limit=20';
                
                if (category !== 'all') {
                    apiUrl += `&type=${category}`;
                }

                // Update trending section with filtered content
                await loadAnimeSection('trending-anime', apiUrl);
                
            } catch (error) {
                console.error('Error loading filtered content:', error);
            }
        }

        // Initialize carousels
        function initializeCarousels() {
            const carouselIds = ['shonen', 'shojo', 'seinen', 'josei', 'anime-movies'];
            
            carouselIds.forEach(carouselId => {
                const carousel = document.getElementById(`${carouselId}-carousel`);
                if (carousel && carousel.children.length > 0) {
                    initializeCarousel(carouselId);
                }
            });
        }

        // Initialize individual carousel
        function initializeCarousel(carouselId) {
            const carousel = document.getElementById(`${carouselId}-carousel`);
            const prevBtn = carousel?.parentElement.querySelector('.carousel-prev');
            const nextBtn = carousel?.parentElement.querySelector('.carousel-next');
            
            if (!carousel || !prevBtn || !nextBtn) return;

            const items = carousel.children;
            const itemsToShow = getItemsToShow();
            const maxIndex = Math.max(0, items.length - itemsToShow);
            let currentIndex = 0;

            const updateCarousel = () => {
                const translateX = -(currentIndex * (100 / itemsToShow));
                carousel.style.transform = `translateX(${translateX}%)`;
                
                prevBtn.disabled = currentIndex === 0;
                nextBtn.disabled = currentIndex >= maxIndex;
            };

            prevBtn.addEventListener('click', () => {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateCarousel();
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentIndex < maxIndex) {
                    currentIndex++;
                    updateCarousel();
                }
            });

            if (maxIndex > 0) {
                nextBtn.disabled = false;
            }

            updateCarousel();
        }

        // Get items to show based on screen size
        function getItemsToShow() {
            const width = window.innerWidth;
            if (width < 576) return 2;
            if (width < 768) return 3;
            if (width < 992) return 4;
            if (width < 1200) return 5;
            return 6;
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            initializeCarousels();
        });
    </script>

    <!-- Page-specific CSS -->
    <style>
        /* Anime Hero */
        .anime-hero {
            position: relative;
            height: 50vh;
            min-height: 24rem;
            overflow: hidden;
            border-radius: 0 0 var(--radius-2xl) var(--radius-2xl);
            margin-bottom: var(--space-3xl);
        }

        .hero-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hero-backdrop::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.8) 0%, rgba(139, 92, 246, 0.6) 100%);
        }

        .hero-content {
            position: relative;
            z-index: 2;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: var(--space-xl);
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: var(--space-lg);
            background: linear-gradient(135deg, white, var(--pearl-white));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-description {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: var(--space-xl);
            max-width: 32rem;
        }

        /* Anime Stats */
        .anime-stats {
            display: flex;
            gap: var(--space-2xl);
            margin-top: var(--space-lg);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Category Filters */
        .anime-categories {
            margin-bottom: var(--space-3xl);
        }

        .category-filters {
            display: flex;
            justify-content: center;
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 0.75rem 1.5rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-lg);
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .category-btn:hover {
            background: var(--bg-quaternary);
            border-color: var(--cinema-red);
            color: var(--cinema-red);
        }

        .category-btn.active {
            background: var(--cinema-red);
            border-color: var(--cinema-red);
            color: white;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-3xl);
        }

        /* Anime Cards */
        .anime-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            overflow: hidden;
            transition: all var(--transition-base);
            border: 1px solid transparent;
        }

        .anime-card:hover {
            transform: translateY(-0.5rem);
            box-shadow: var(--shadow-2xl);
            border-color: var(--cinema-red);
        }

        .anime-poster {
            position: relative;
            aspect-ratio: 2/3;
            overflow: hidden;
            cursor: pointer;
        }

        .anime-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-slow);
        }

        .anime-card:hover .anime-poster img {
            transform: scale(1.05);
        }

        .anime-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.8), rgba(139, 92, 246, 0.8));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .anime-card:hover .anime-overlay {
            opacity: 1;
        }

        .anime-overlay .btn-play {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            font-size: 1.5rem;
        }

        .anime-badges {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .badge {
            padding: 0.125rem 0.375rem;
            border-radius: var(--radius-sm);
            font-size: 0.625rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-new {
            background: var(--emerald-green);
            color: white;
        }

        .badge-trending {
            background: var(--cinema-red);
            color: white;
        }

        .anime-info {
            padding: var(--space-lg);
        }

        .anime-title {
            font-size: 1.125rem;
            font-weight: 700;
            margin: 0 0 var(--space-sm) 0;
            color: var(--text-primary);
            cursor: pointer;
            transition: color var(--transition-fast);
        }

        .anime-title:hover {
            color: var(--cinema-red);
        }

        .anime-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
            font-size: 0.875rem;
        }

        .anime-rating {
            color: var(--vip-gold);
            font-weight: 600;
        }

        .anime-year {
            color: var(--text-muted);
        }

        .anime-genres {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            margin-bottom: var(--space-md);
        }

        .genre-chip {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .anime-genre-chip {
            background: var(--cinema-red);
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .anime-synopsis {
            color: var(--text-secondary);
            font-size: 0.875rem;
            line-height: 1.5;
            margin-bottom: var(--space-md);
        }

        .anime-actions {
            display: flex;
            gap: var(--space-sm);
        }

        .anime-actions .btn {
            flex: 1;
            font-size: 0.75rem;
        }

        .anime-actions .btn:first-child {
            flex: 2;
        }

        /* Genre Sections */
        .genre-section {
            margin-bottom: var(--space-3xl);
        }

        /* No content states */
        .no-content,
        .error-content {
            text-align: center;
            padding: var(--space-3xl);
            color: var(--text-muted);
            font-style: italic;
        }

        .error-content {
            color: var(--cinema-red);
        }

        /* Responsive */
        @media (max-width: 767.98px) {
            .hero-title {
                font-size: 2rem;
            }

            .hero-description {
                font-size: 1rem;
            }

            .anime-stats {
                gap: var(--space-lg);
            }

            .stat-number {
                font-size: 1.5rem;
            }

            .category-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding: 0 var(--space-lg);
            }

            .category-btn {
                flex-shrink: 0;
                padding: 0.5rem 1rem;
            }

            .content-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: var(--space-lg);
            }

            .anime-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 575.98px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>