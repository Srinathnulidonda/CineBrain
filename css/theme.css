/* CineBrain Theme System - Dark/Light Toggle + Cinematic Tokens */

/* Extended Color Palette */
:root {
  /* Core Cinematic Colors */
  --theater-black: #0a0a0a;
  --velvet-dark: #1a1a1a;
  --midnight-blue: #0f172a;
  --platinum-blue: #1e293b;
  --steel-gray: #334155;
  --silver-mist: #64748b;
  --pearl-gray: #94a3b8;
  --cloud-white: #cbd5e1;
  --silver-text: #e2e8f0;
  --pearl-white: #f8fafc;
  
  /* Accent Colors */
  --royal-purple: #6366f1;
  --electric-purple: #8b5cf6;
  --cosmic-purple: #a855f7;
  --vip-gold: #f59e0b;
  --champagne-gold: #fbbf24;
  --sunset-orange: #f97316;
  --cinema-red: #ef4444;
  --emerald-green: #10b981;
  --sky-blue: #0ea5e9;
  --rose-pink: #f43f5e;
  
  /* Gradient Definitions */
  --gradient-primary: linear-gradient(135deg, var(--royal-purple), var(--electric-purple));
  --gradient-secondary: linear-gradient(135deg, var(--vip-gold), var(--sunset-orange));
  --gradient-hero: linear-gradient(135deg, var(--theater-black) 0%, var(--velvet-dark) 50%, var(--midnight-blue) 100%);
  --gradient-card: linear-gradient(135deg, var(--velvet-dark) 0%, var(--platinum-blue) 100%);
  --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
  
  /* Shadow Definitions */
  --shadow-glow-purple: 0 0 20px rgba(99, 102, 241, 0.3);
  --shadow-glow-gold: 0 0 20px rgba(245, 158, 11, 0.3);
  --shadow-cinematic: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
  --shadow-dramatic: 0 35px 60px -12px rgba(0, 0, 0, 0.9);
  
  /* Animation Curves */
  --ease-dramatic: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-cinematic: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce-in: cubic-bezier(0.6, -0.28, 0.735, 0.045);
  --ease-bounce-out: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Dark Theme (Default) */
[data-theme="dark"] {
  /* Background Hierarchy */
  --bg-primary: var(--theater-black);
  --bg-secondary: var(--velvet-dark);
  --bg-tertiary: var(--platinum-blue);
  --bg-quaternary: var(--steel-gray);
  --bg-surface: var(--midnight-blue);
  --bg-elevated: var(--velvet-dark);
  --bg-overlay: rgba(0, 0, 0, 0.8);
  --bg-glass: rgba(255, 255, 255, 0.05);
  
  /* Text Hierarchy */
  --text-primary: var(--pearl-white);
  --text-secondary: var(--silver-text);
  --text-tertiary: var(--cloud-white);
  --text-muted: var(--pearl-gray);
  --text-disabled: var(--silver-mist);
  --text-inverse: var(--theater-black);
  
  /* Border Colors */
  --border-primary: rgba(255, 255, 255, 0.1);
  --border-secondary: rgba(255, 255, 255, 0.05);
  --border-focus: var(--royal-purple);
  --border-error: var(--cinema-red);
  --border-success: var(--emerald-green);
  
  /* Accent Colors */
  --accent-primary: var(--royal-purple);
  --accent-secondary: var(--vip-gold);
  --accent-tertiary: var(--electric-purple);
  --accent-danger: var(--cinema-red);
  --accent-success: var(--emerald-green);
  --accent-warning: var(--vip-gold);
  --accent-info: var(--sky-blue);
  
  /* Interactive States */
  --interactive-hover: rgba(255, 255, 255, 0.1);
  --interactive-active: rgba(255, 255, 255, 0.2);
  --interactive-focus: rgba(99, 102, 241, 0.2);
  --interactive-disabled: rgba(255, 255, 255, 0.05);
  
  /* Component Specific */
  --topbar-bg: linear-gradient(135deg, var(--theater-black) 0%, var(--velvet-dark) 100%);
  --card-bg: var(--bg-secondary);
  --card-hover-bg: var(--bg-tertiary);
  --modal-bg: var(--bg-secondary);
  --hero-overlay: linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.9) 100%);
}

/* Light Theme */
[data-theme="light"] {
  /* Background Hierarchy */
  --bg-primary: var(--pearl-white);
  --bg-secondary: #f1f5f9;
  --bg-tertiary: #e2e8f0;
  --bg-quaternary: #cbd5e1;
  --bg-surface: #ffffff;
  --bg-elevated: #ffffff;
  --bg-overlay: rgba(255, 255, 255, 0.9);
  --bg-glass: rgba(0, 0, 0, 0.05);
  
  /* Text Hierarchy */
  --text-primary: var(--theater-black);
  --text-secondary: var(--steel-gray);
  --text-tertiary: var(--silver-mist);
  --text-muted: var(--pearl-gray);
  --text-disabled: var(--cloud-white);
  --text-inverse: var(--pearl-white);
  
  /* Border Colors */
  --border-primary: rgba(0, 0, 0, 0.1);
  --border-secondary: rgba(0, 0, 0, 0.05);
  --border-focus: var(--royal-purple);
  --border-error: var(--cinema-red);
  --border-success: var(--emerald-green);
  
  /* Accent Colors remain the same */
  --accent-primary: var(--royal-purple);
  --accent-secondary: var(--vip-gold);
  --accent-tertiary: var(--electric-purple);
  --accent-danger: var(--cinema-red);
  --accent-success: var(--emerald-green);
  --accent-warning: var(--sunset-orange);
  --accent-info: var(--sky-blue);
  
  /* Interactive States */
  --interactive-hover: rgba(0, 0, 0, 0.05);
  --interactive-active: rgba(0, 0, 0, 0.1);
  --interactive-focus: rgba(99, 102, 241, 0.1);
  --interactive-disabled: rgba(0, 0, 0, 0.03);
  
  /* Component Specific */
  --topbar-bg: linear-gradient(135deg, var(--pearl-white) 0%, #f1f5f9 100%);
  --card-bg: var(--bg-surface);
  --card-hover-bg: var(--bg-tertiary);
  --modal-bg: var(--bg-surface);
  --hero-overlay: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0.95) 100%);
}

/* Auto Theme (System Preference) */
[data-theme="auto"] {
  color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
  [data-theme="auto"] {
    --bg-primary: var(--theater-black);
    --bg-secondary: var(--velvet-dark);
    --bg-tertiary: var(--platinum-blue);
    --text-primary: var(--pearl-white);
    --text-secondary: var(--silver-text);
    --text-muted: var(--pearl-gray);
    /* ... inherit dark theme variables */
  }
}

@media (prefers-color-scheme: light) {
  [data-theme="auto"] {
    --bg-primary: var(--pearl-white);
    --bg-secondary: #f1f5f9;
    --bg-tertiary: #e2e8f0;
    --text-primary: var(--theater-black);
    --text-secondary: var(--steel-gray);
    --text-muted: var(--pearl-gray);
    /* ... inherit light theme variables */
  }
}

/* Theme Toggle Component */
.theme-toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  background: var(--bg-glass);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-primary);
  border-radius: 50%;
  cursor: pointer;
  transition: all var(--duration-base) var(--ease-cinematic);
  overflow: hidden;
}

.theme-toggle:hover {
  background: var(--interactive-hover);
  border-color: var(--accent-primary);
  transform: scale(1.05);
}

.theme-toggle:active {
  transform: scale(0.95);
}

.theme-toggle .icon {
  font-size: 1.125rem;
  color: var(--text-secondary);
  transition: all var(--duration-base) var(--ease-cinematic);
}

.theme-toggle:hover .icon {
  color: var(--accent-primary);
}

/* Theme Icon Animations */
[data-theme="dark"] .theme-toggle .icon-sun {
  opacity: 0;
  transform: rotate(180deg) scale(0.5);
}

[data-theme="dark"] .theme-toggle .icon-moon {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

[data-theme="light"] .theme-toggle .icon-sun {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

[data-theme="light"] .theme-toggle .icon-moon {
  opacity: 0;
  transform: rotate(-180deg) scale(0.5);
}

/* Cinematic Glass Effects */
.glass-effect {
  background: var(--bg-glass);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-primary);
}

.glass-effect-strong {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(30px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-effect-subtle {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Neon Glow Effects */
.glow-primary {
  box-shadow: var(--shadow-glow-purple);
}

.glow-secondary {
  box-shadow: var(--shadow-glow-gold);
}

.text-glow-primary {
  text-shadow: 
    0 0 10px var(--royal-purple),
    0 0 20px var(--royal-purple),
    0 0 30px var(--royal-purple);
}

.text-glow-secondary {
  text-shadow: 
    0 0 10px var(--vip-gold),
    0 0 20px var(--vip-gold),
    0 0 30px var(--vip-gold);
}

/* Premium Gradient Backgrounds */
.bg-gradient-primary {
  background: var(--gradient-primary);
}

.bg-gradient-secondary {
  background: var(--gradient-secondary);
}

.bg-gradient-hero {
  background: var(--gradient-hero);
}

.bg-gradient-card {
  background: var(--gradient-card);
}

/* Advanced Typography */
.text-cinematic {
  font-family: var(--font-family-display);
  font-weight: 700;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-premium {
  font-family: var(--font-family-display);
  font-weight: 600;
  background: var(--gradient-secondary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-shadow-soft {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.text-shadow-strong {
  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
}

.text-shadow-dramatic {
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.8),
    0 2px 4px rgba(0, 0, 0, 0.6),
    0 4px 8px rgba(0, 0, 0, 0.4);
}

/* Premium Button Variations */
.btn-cinematic {
  background: var(--gradient-primary);
  border: none;
  color: white;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: var(--shadow-lg);
  transition: all var(--duration-base) var(--ease-cinematic);
}

.btn-cinematic:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow-purple), var(--shadow-xl);
}

.btn-premium {
  background: var(--gradient-secondary);
  border: none;
  color: white;
  font-weight: 600;
  box-shadow: var(--shadow-lg);
  transition: all var(--duration-base) var(--ease-cinematic);
}

.btn-premium:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow-gold), var(--shadow-xl);
}

.btn-glass {
  background: var(--bg-glass);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-primary);
  color: var(--text-primary);
  transition: all var(--duration-base) var(--ease-cinematic);
}

.btn-glass:hover {
  background: var(--interactive-hover);
  border-color: var(--accent-primary);
  color: var(--accent-primary);
}

/* Card Theme Variations */
.card-cinematic {
  background: var(--gradient-card);
  border: 1px solid var(--border-primary);
  box-shadow: var(--shadow-cinematic);
}

.card-glass {
  background: var(--bg-glass);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-primary);
}

.card-premium {
  background: var(--bg-secondary);
  border: 2px solid transparent;
  background-clip: padding-box;
  position: relative;
}

.card-premium::before {
  content: '';
  position: absolute;
  inset: 0;
  padding: 2px;
  background: var(--gradient-primary);
  border-radius: inherit;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
}

/* Status Indicators */
.status-online {
  color: var(--emerald-green);
}

.status-away {
  color: var(--vip-gold);
}

.status-busy {
  color: var(--cinema-red);
}

.status-offline {
  color: var(--text-muted);
}

/* Content Type Indicators */
.type-movie {
  --type-color: var(--royal-purple);
}

.type-tv {
  --type-color: var(--vip-gold);
}

.type-anime {
  --type-color: var(--cinema-red);
}

.type-documentary {
  --type-color: var(--emerald-green);
}

.content-type-indicator {
  background: var(--type-color);
  color: white;
  padding: 0.125rem 0.5rem;
  border-radius: var(--radius-sm);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Quality Badges */
.quality-4k {
  background: linear-gradient(135deg, var(--vip-gold), var(--sunset-orange));
  color: white;
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  font-size: 0.625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.quality-hd {
  background: linear-gradient(135deg, var(--sky-blue), var(--royal-purple));
  color: white;
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  font-size: 0.625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.quality-hdr {
  background: linear-gradient(135deg, var(--emerald-green), var(--sky-blue));
  color: white;
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  font-size: 0.625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Rating Indicators */
.rating-excellent {
  color: var(--emerald-green);
}

.rating-good {
  color: var(--vip-gold);
}

.rating-average {
  color: var(--sunset-orange);
}

.rating-poor {
  color: var(--cinema-red);
}

/* Theme Transition Animations */
html {
  transition: 
    background-color var(--duration-slow) var(--ease-cinematic),
    color var(--duration-slow) var(--ease-cinematic);
}

body {
  transition: 
    background-color var(--duration-slow) var(--ease-cinematic),
    color var(--duration-slow) var(--ease-cinematic);
}

.card,
.btn,
.form-control,
.modal-content,
.topbar,
.mobile-nav {
  transition: 
    background-color var(--duration-slow) var(--ease-cinematic),
    border-color var(--duration-slow) var(--ease-cinematic),
    color var(--duration-slow) var(--ease-cinematic);
}

/* Custom Scrollbar Theming */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb {
  background: var(--accent-primary);
  border-radius: var(--radius-sm);
  transition: background-color var(--duration-base) ease;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent-secondary);
}

/* Firefox Scrollbar */
html {
  scrollbar-width: thin;
  scrollbar-color: var(--accent-primary) var(--bg-secondary);
}

/* High Contrast Theme Support */
@media (prefers-contrast: high) {
  :root {
    --border-primary: rgba(255, 255, 255, 0.3);
    --border-secondary: rgba(255, 255, 255, 0.2);
    --interactive-hover: rgba(255, 255, 255, 0.2);
  }
  
  [data-theme="light"] {
    --border-primary: rgba(0, 0, 0, 0.3);
    --border-secondary: rgba(0, 0, 0, 0.2);
    --interactive-hover: rgba(0, 0, 0, 0.1);
  }
  
  .btn {
    border-width: 2px;
  }
  
  .card {
    border-width: 2px;
  }
}

/* Reduced Transparency Support */
@media (prefers-reduced-transparency: reduce) {
  .glass-effect,
  .glass-effect-strong,
  .glass-effect-subtle,
  .btn-glass {
    backdrop-filter: none;
    background: var(--bg-secondary);
  }
  
  .topbar,
  .mobile-nav {
    backdrop-filter: none;
    background: var(--bg-primary);
  }
}

/* Color Scheme Meta Support */
:root {
  color-scheme: dark;
}

[data-theme="light"] {
  color-scheme: light;
}

[data-theme="auto"] {
  color-scheme: light dark;
}

/* Print Theme Override */
@media print {
  * {
    background: white !important;
    color: black !important;
    text-shadow: none !important;
    box-shadow: none !important;
  }
}

/* Forced Colors Mode Support */
@media (forced-colors: active) {
  .glass-effect,
  .card-glass,
  .btn-glass {
    background: ButtonFace;
    border: 1px solid ButtonText;
  }
  
  .btn-primary,
  .btn-cinematic,
  .btn-premium {
    background: Highlight;
    color: HighlightText;
    border-color: Highlight;
  }
  
  .text-cinematic,
  .text-premium {
    background: none;
    -webkit-text-fill-color: unset;
    color: CanvasText;
  }
}