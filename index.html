<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineScope - Discover Your Next Favorite Movie</title>
    <meta name="description" content="Discover movies, TV shows, and anime with AI-powered recommendations. Get personalized suggestions based on your preferences.">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/css/main.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="CineScope - AI-Powered Movie Recommendations">
    <meta property="og:description" content="Discover your next favorite movie with personalized recommendations powered by advanced AI.">
    <meta property="og:image" content="/assets/images/og-image.jpg">
    
    <!-- Theme -->
    <meta name="theme-color" content="#0066ff">
</head>
<body>
    <!-- Header -->
    <div data-include="header"></div>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-bg">
                <img src="/assets/images/hero-bg.jpg" alt="Hero Background" class="hero-bg-image">
            </div>
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">Discover Your Next Favorite Movie</h1>
                    <p class="hero-description">
                        Get personalized recommendations powered by advanced AI. Explore movies, TV shows, and anime 
                        tailored to your unique taste across multiple languages and genres.
                    </p>
                    <div class="hero-actions">
                        <a href="/categories/trending" class="btn btn-primary">
                            <i class="fas fa-fire"></i> Explore Trending
                        </a>
                        <a href="/login" class="btn btn-outline">
                            <i class="fas fa-user"></i> Get Personalized
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trending Section -->
        <section class="content-row">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">üî• Trending Now</h2>
                    <a href="/categories/trending" class="view-all-btn">View All</a>
                </div>
                <div class="content-carousel" id="trending-content">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Admin's Choice Section -->
        <section class="content-row">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">üëë Editor's Choice</h2>
                    <a href="/categories/critic-choices" class="view-all-btn">View All</a>
                </div>
                <div class="content-carousel" id="admin-choice-content">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- New Releases Section -->
        <section class="content-row">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">üé¨ New Releases</h2>
                    <a href="/categories/new-releases" class="view-all-btn">View All</a>
                </div>
                <div class="content-carousel" id="new-releases-content">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Critics' Choice Section -->
        <section class="content-row">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">‚≠ê Critics' Choice</h2>
                    <a href="/categories/critic-choices" class="view-all-btn">View All</a>
                </div>
                <div class="content-carousel" id="critics-choice-content">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Anime Section -->
        <section class="content-row">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">üéå Top Anime</h2>
                    <a href="/categories/anime" class="view-all-btn">View All</a>
                </div>
                <div class="content-carousel" id="anime-content">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Recommended for Anonymous Users -->
        <section class="content-row" id="anonymous-recommendations" style="display: none;">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">üéØ Recommended For You</h2>
                </div>
                <div class="content-carousel" id="recommended-content">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Language-based Sections -->
        <section class="content-row">
            <div class="container">
                <div class="row-header">
                    <h2 class="row-title">üé≠ Regional Cinema</h2>
                </div>
                <div class="language-tabs">
                    <div class="tabs">
                        <ul class="tab-list">
                            <li><button class="tab-button active" data-lang="hindi">Hindi</button></li>
                            <li><button class="tab-button" data-lang="telugu">Telugu</button></li>
                            <li><button class="tab-button" data-lang="tamil">Tamil</button></li>
                            <li><button class="tab-button" data-lang="english">English</button></li>
                        </ul>
                    </div>
                    <div class="tab-content active" id="hindi-content">
                        <div class="content-carousel" data-language="hindi">
                            <!-- Hindi content loaded dynamically -->
                        </div>
                    </div>
                    <div class="tab-content" id="telugu-content">
                        <div class="content-carousel" data-language="telugu">
                            <!-- Telugu content loaded dynamically -->
                        </div>
                    </div>
                    <div class="tab-content" id="tamil-content">
                        <div class="content-carousel" data-language="tamil">
                            <!-- Tamil content loaded dynamically -->
                        </div>
                    </div>
                    <div class="tab-content" id="english-content">
                        <div class="content-carousel" data-language="english">
                            <!-- English content loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <div data-include="footer"></div>

    <!-- Scripts -->
    <script src="/js/include.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/main.js"></script>

    <script>
        // Page-specific initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Show anonymous recommendations if not logged in
            if (!isAuthenticated()) {
                document.getElementById('anonymous-recommendations').style.display = 'block';
            }

            // Load regional content for tabs
            setTimeout(() => {
                loadRegionalTabs();
            }, 1000);
        });

        async function loadRegionalTabs() {
            const languages = ['hindi', 'telugu', 'tamil', 'english'];
            
            for (const lang of languages) {
                const container = document.querySelector(`[data-language="${lang}"]`);
                if (container) {
                    try {
                        const response = await ApiService.getRegionalContent(lang, 'movie', 15);
                        if (response.success && response.data.recommendations) {
                            renderContentCarousel(container, response.data.recommendations);
                        }
                    } catch (error) {
                        console.error(`Error loading ${lang} content:`, error);
                    }
                }
            }
        }

        // Handle language tab switching
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('tab-button')) {
                const lang = e.target.getAttribute('data-lang');
                
                // Update active tab
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                e.target.classList.add('active');
                document.getElementById(`${lang}-content`).classList.add('active');
            }
        });
    </script>
</body>
</html>