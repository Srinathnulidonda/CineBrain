<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movies - CineScope</title>
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="../css/main.css" rel="stylesheet">
    <link href="../css/components.css" rel="stylesheet">
    <link href="../css/responsive.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-container">
            <div class="loading-logo">
                <i class="fas fa-film"></i>
                <span>CineScope</span>
            </div>
            <div class="loading-spinner"></div>
            <div class="loading-text">Loading movies...</div>
        </div>
    </div>

    <!-- Header -->
    <div id="headerContainer"></div>

    <!-- Main Content -->
    <main class="main-content movies-content">
        <!-- Movies Hero -->
        <section class="movies-hero">
            <div class="container">
                <div class="movies-header">
                    <div class="breadcrumb-nav">
                        <nav class="breadcrumb">
                            <span class="breadcrumb-item"><a href="/">Home</a></span>
                            <span class="breadcrumb-item"><a href="/categories">Categories</a></span>
                            <span class="breadcrumb-item active">Movies</span>
                        </nav>
                    </div>
                    <h1 class="movies-title">
                        <i class="fas fa-film text-warning me-3"></i>
                        Movies
                    </h1>
                    <p class="movies-description">
                        Explore the world of cinema with our vast collection of movies from every genre and era.
                    </p>
                </div>
            </div>
        </section>

        <!-- Featured Movies Section -->
        <section class="featured-movies-section">
            <div class="container">
                <h2 class="section-title">Featured Movies</h2>
                <div class="featured-grid" id="featuredMoviesGrid">
                    <div class="loading-skeleton">
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Movie Categories Section -->
        <section class="movie-categories-section">
            <div class="container">
                <h2 class="section-title">Browse by Category</h2>
                <div class="category-tabs" id="categoryTabs">
                    <button class="category-tab active" data-category="popular">Popular</button>
                    <button class="category-tab" data-category="top_rated">Top Rated</button>
                    <button class="category-tab" data-category="upcoming">Upcoming</button>
                    <button class="category-tab" data-category="now_playing">Now Playing</button>
                </div>
                <div class="content-carousel" id="categoryCarousel">
                    <div class="carousel-loading">
                        <div class="loading-spinner-small"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Genre Sections -->
        <section class="genre-sections">
            <div class="container">
                <!-- Action Movies -->
                <div class="genre-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-fist-raised text-danger me-2"></i>
                            Action Movies
                        </h2>
                        <a href="/search?q=action movies" class="section-link">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                    <div class="content-carousel" id="actionMoviesCarousel">
                        <div class="carousel-loading">
                            <div class="loading-spinner-small"></div>
                        </div>
                    </div>
                </div>

                <!-- Comedy Movies -->
                <div class="genre-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-laugh text-success me-2"></i>
                            Comedy Movies
                        </h2>
                        <a href="/search?q=comedy movies" class="section-link">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                    <div class="content-carousel" id="comedyMoviesCarousel">
                        <div class="carousel-loading">
                            <div class="loading-spinner-small"></div>
                        </div>
                    </div>
                </div>

                <!-- Drama Movies -->
                <div class="genre-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-theater-masks text-info me-2"></i>
                            Drama Movies
                        </h2>
                        <a href="/search?q=drama movies" class="section-link">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                    <div class="content-carousel" id="dramaMoviesCarousel">
                        <div class="carousel-loading">
                            <div class="loading-spinner-small"></div>
                        </div>
                    </div>
                </div>

                <!-- Horror Movies -->
                <div class="genre-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-ghost text-dark me-2"></i>
                            Horror Movies
                        </h2>
                        <a href="/search?q=horror movies" class="section-link">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                    <div class="content-carousel" id="horrorMoviesCarousel">
                        <div class="carousel-loading">
                            <div class="loading-spinner-small"></div>
                        </div>
                    </div>
                </div>

                <!-- Sci-Fi Movies -->
                <div class="genre-section">
                    <div class="section-header">
                        <h2 class="section-title">
                            <i class="fas fa-rocket text-primary me-2"></i>
                            Sci-Fi Movies
                        </h2>
                        <a href="/search?q=sci-fi movies" class="section-link">
                            View All <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                    <div class="content-carousel" id="sciFiMoviesCarousel">
                        <div class="carousel-loading">
                            <div class="loading-spinner-small"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- All Movies Section with Filters -->
        <section class="all-movies-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">All Movies</h2>
                    <div class="movie-filters">
                        <select class="form-select form-select-sm" id="genreFilter">
                            <option value="">All Genres</option>
                            <option value="action">Action</option>
                            <option value="adventure">Adventure</option>
                            <option value="animation">Animation</option>
                            <option value="comedy">Comedy</option>
                            <option value="crime">Crime</option>
                            <option value="documentary">Documentary</option>
                            <option value="drama">Drama</option>
                            <option value="family">Family</option>
                            <option value="fantasy">Fantasy</option>
                            <option value="history">History</option>
                            <option value="horror">Horror</option>
                            <option value="music">Music</option>
                            <option value="mystery">Mystery</option>
                            <option value="romance">Romance</option>
                            <option value="science fiction">Science Fiction</option>
                            <option value="thriller">Thriller</option>
                            <option value="war">War</option>
                            <option value="western">Western</option>
                        </select>
                        <select class="form-select form-select-sm" id="yearFilter">
                            <option value="">All Years</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                            <option value="2010s">2010s</option>
                            <option value="2000s">2000s</option>
                            <option value="1990s">1990s</option>
                            <option value="1980s">1980s</option>
                        </select>
                        <select class="form-select form-select-sm" id="sortFilter">
                            <option value="popularity.desc">Most Popular</option>
                            <option value="vote_average.desc">Highest Rated</option>
                            <option value="release_date.desc">Newest First</option>
                            <option value="release_date.asc">Oldest First</option>
                            <option value="title.asc">A-Z</option>
                            <option value="title.desc">Z-A</option>
                        </select>
                    </div>
                </div>
                <div class="movies-grid" id="allMoviesGrid">
                    <div class="loading-skeleton">
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                        <div class="skeleton-card skeleton"></div>
                    </div>
                </div>
                <div class="load-more-container" id="loadMoreContainer" style="display: none;">
                    <button class="btn btn-outline-primary btn-lg" id="loadMoreBtn">
                        <span class="btn-text">Load More Movies</span>
                        <span class="btn-loading" style="display: none;">
                            <i class="fas fa-spinner fa-spin me-2"></i>
                            Loading...
                        </span>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <div id="footerContainer"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/include.js"></script>
    <script>
        let moviesState = {
            currentCategory: 'popular',
            currentPage: 1,
            totalPages: 1,
            isLoading: false,
            allMovies: []
        };

        document.addEventListener('DOMContentLoaded', function() {
            initializeMoviesPage();
        });

        async function initializeMoviesPage() {
            // Load includes
            await loadIncludes();
            
            // Initialize movies page
            await loadMoviesContent();
            bindMoviesEvents();

            Utils.hideLoadingScreen();
        }

        async function loadIncludes() {
            try {
                await Promise.all([
                    loadHeader(),
                    loadFooter()
                ]);
            } catch (error) {
                console.error('Failed to load includes:', error);
            }
        }

        async function loadMoviesContent() {
            try {
                // Load featured movies
                await loadFeaturedMovies();
                
                // Load category movies (popular by default)
                await loadCategoryMovies('popular');
                
                // Load genre-specific movies
                await loadGenreMovies();
                
                // Load all movies with pagination
                await loadAllMovies();

            } catch (error) {
                console.error('Failed to load movies content:', error);
                Utils.showToast('Failed to load movies content', 'error');
            }
        }

        async function loadFeaturedMovies() {
            try {
                const response = await ApiService.getTrending('movie', 6);
                const movies = response.recommendations || [];
                
                renderFeaturedMovies(movies);

            } catch (error) {
                console.error('Failed to load featured movies:', error);
            }
        }

        function renderFeaturedMovies(movies) {
            const grid = document.getElementById('featuredMoviesGrid');
            
            if (movies.length === 0) {
                grid.innerHTML = '<p class="text-muted">No featured movies available</p>';
                return;
            }

            const moviesHtml = movies.slice(0, 3).map(movie => `
                <div class="featured-movie-card" onclick="Utils.navigateToDetails(${movie.id})">
                    <div class="featured-poster">
                        <img src="${Utils.getImageUrl(movie.backdrop_path || movie.poster_path, 'w780')}" 
                             alt="${movie.title}"
                             onerror="this.src='https://via.placeholder.com/780x439?text=No+Image'">
                        <div class="featured-overlay">
                            <div class="featured-content">
                                <h3 class="featured-title">${movie.title}</h3>
                                <p class="featured-overview">${Utils.truncateText(movie.overview, 120)}</p>
                                <div class="featured-meta">
                                    <span class="featured-rating">
                                        <i class="fas fa-star"></i>
                                        ${Utils.formatRating(movie.rating)}
                                    </span>
                                    <span class="featured-year">${new Date(movie.release_date || Date.now()).getFullYear()}</span>
                                </div>
                                <button class="btn btn-primary" onclick="event.stopPropagation(); Utils.navigateToDetails(${movie.id})">
                                    <i class="fas fa-play me-2"></i>
                                    Watch Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            grid.innerHTML = moviesHtml;
        }

        async function loadCategoryMovies(category) {
            try {
                moviesState.currentCategory = category;
                
                let response;
                switch (category) {
                    case 'popular':
                        response = await ApiService.getPopular('movie', 20);
                        break;
                    case 'top_rated':
                        response = await ApiService.getCriticsChoice('movie', 20);
                        break;
                    case 'upcoming':
                    case 'now_playing':
                        response = await ApiService.getNewReleases('movie', 20);
                        break;
                    default:
                        response = await ApiService.getPopular('movie', 20);
                }

                const movies = response.recommendations || [];
                UIComponents.createCarousel(movies, 'categoryCarousel');

            } catch (error) {
                console.error('Failed to load category movies:', error);
            }
        }

        async function loadGenreMovies() {
            try {
                const genres = ['action', 'comedy', 'drama', 'horror', 'sci-fi'];
                
                await Promise.all(genres.map(async (genre) => {
                    try {
                        const response = await ApiService.getGenre(genre, 'movie', 10);
                        const movies = response.recommendations || [];
                        
                        const carouselId = genre === 'sci-fi' ? 'sciFiMoviesCarousel' : `${genre}MoviesCarousel`;
                        UIComponents.createCarousel(movies, carouselId);
                        
                    } catch (error) {
                        console.error(`Failed to load ${genre} movies:`, error);
                    }
                }));

            } catch (error) {
                console.error('Failed to load genre movies:', error);
            }
        }

        async function loadAllMovies() {
            if (moviesState.isLoading) return;

            moviesState.isLoading = true;
            
            try {
                const response = await ApiService.getPopular('movie', 24, moviesState.currentPage);
                const movies = response.recommendations || [];

                if (moviesState.currentPage === 1) {
                    moviesState.allMovies = movies;
                } else {
                    moviesState.allMovies = [...moviesState.allMovies, ...movies];
                }

                moviesState.totalPages = response.total_pages || 1;
                renderAllMovies();

            } catch (error) {
                console.error('Failed to load all movies:', error);
            } finally {
                moviesState.isLoading = false;
            }
        }

        function renderAllMovies() {
            const grid = document.getElementById('allMoviesGrid');
            const loadMoreContainer = document.getElementById('loadMoreContainer');

            if (moviesState.allMovies.length === 0) {
                grid.innerHTML = '<p class="text-muted text-center">No movies found</p>';
                loadMoreContainer.style.display = 'none';
                return;
            }

            const moviesHtml = moviesState.allMovies.map(movie => `
                <div class="movie-card" onclick="Utils.navigateToDetails(${movie.id})">
                    <div class="movie-poster">
                        <img src="${Utils.getImageUrl(movie.poster_path)}" 
                             alt="${movie.title}"
                             loading="lazy"
                             onerror="this.src='https://via.placeholder.com/300x450?text=No+Image'">
                        <div class="movie-overlay">
                            <button class="play-btn" onclick="event.stopPropagation(); UIComponents.playTrailer('${movie.youtube_trailer || ''}')">
                                <i class="fas fa-play"></i>
                            </button>
                        </div>
                        ${movie.is_trending ? '<div class="trending-badge"><i class="fas fa-fire"></i></div>' : ''}
                    </div>
                    <div class="movie-info">
                        <h6 class="movie-title">${movie.title}</h6>
                        <div class="movie-meta">
                            <span class="movie-year">${new Date(movie.release_date || Date.now()).getFullYear()}</span>
                            <div class="movie-rating">
                                <i class="fas fa-star"></i>
                                <span>${Utils.formatRating(movie.rating)}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            grid.innerHTML = moviesHtml;

            // Show/hide load more button
            if (moviesState.currentPage < moviesState.totalPages) {
                loadMoreContainer.style.display = 'block';
            } else {
                loadMoreContainer.style.display = 'none';
            }
        }

        function bindMoviesEvents() {
            // Category tabs
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.onclick = async () => {
                    const category = tab.getAttribute('data-category');
                    
                    // Update active tab
                    document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Load category content
                    await loadCategoryMovies(category);
                };
            });

            // Filters
            document.getElementById('genreFilter').onchange = applyFilters;
            document.getElementById('yearFilter').onchange = applyFilters;
            document.getElementById('sortFilter').onchange = applyFilters;

            // Load more
            document.getElementById('loadMoreBtn').onclick = loadMoreMovies;
        }

        async function applyFilters() {
            // Reset pagination
            moviesState.currentPage = 1;
            moviesState.allMovies = [];

            // Get filter values
            const genre = document.getElementById('genreFilter').value;
            const year = document.getElementById('yearFilter').value;
            const sort = document.getElementById('sortFilter').value;

            // Show loading
            const grid = document.getElementById('allMoviesGrid');
            grid.innerHTML = '<div class="loading-skeleton"><div class="skeleton-card skeleton"></div><div class="skeleton-card skeleton"></div><div class="skeleton-card skeleton"></div></div>';

            try {
                let response;
                
                if (genre) {
                    response = await ApiService.getGenre(genre, 'movie', 24);
                } else {
                    response = await ApiService.getPopular('movie', 24);
                }

                let movies = response.recommendations || [];

                // Apply year filter
                if (year) {
                    movies = movies.filter(movie => {
                        if (!movie.release_date) return false;
                        const movieYear = new Date(movie.release_date).getFullYear();
                        
                        if (year.includes('s')) {
                            const decade = parseInt(year);
                            return movieYear >= decade && movieYear < decade + 10;
                        } else {
                            return movieYear === parseInt(year);
                        }
                    });
                }

                // Apply sorting
                movies = sortMovies(movies, sort);

                moviesState.allMovies = movies;
                renderAllMovies();

            } catch (error) {
                console.error('Failed to apply filters:', error);
                Utils.showToast('Failed to apply filters', 'error');
            }
        }

        function sortMovies(movies, sortBy) {
            const sorted = [...movies];
            
            switch (sortBy) {
                case 'vote_average.desc':
                    return sorted.sort((a, b) => (b.rating || 0) - (a.rating || 0));
                case 'vote_average.asc':
                    return sorted.sort((a, b) => (a.rating || 0) - (b.rating || 0));
                case 'release_date.desc':
                    return sorted.sort((a, b) => new Date(b.release_date || 0) - new Date(a.release_date || 0));
                case 'release_date.asc':
                    return sorted.sort((a, b) => new Date(a.release_date || 0) - new Date(b.release_date || 0));
                case 'title.asc':
                    return sorted.sort((a, b) => a.title.localeCompare(b.title));
                case 'title.desc':
                    return sorted.sort((a, b) => b.title.localeCompare(a.title));
                case 'popularity.desc':
                default:
                    return sorted.sort((a, b) => (b.popularity || 0) - (a.popularity || 0));
            }
        }

        async function loadMoreMovies() {
            if (moviesState.isLoading || moviesState.currentPage >= moviesState.totalPages) return;

            const loadMoreBtn = document.getElementById('loadMoreBtn');
            const btnText = loadMoreBtn.querySelector('.btn-text');
            const btnLoading = loadMoreBtn.querySelector('.btn-loading');

            try {
                btnText.style.display = 'none';
                btnLoading.style.display = 'inline-flex';
                loadMoreBtn.disabled = true;

                moviesState.currentPage++;
                await loadAllMovies();

            } catch (error) {
                console.error('Load more failed:', error);
                Utils.showToast('Failed to load more movies', 'error');
            } finally {
                btnText.style.display = 'inline';
                btnLoading.style.display = 'none';
                loadMoreBtn.disabled = false;
            }
        }

        // Extended API service
        ApiService.getPopular = async function(type = 'movie', limit = 20, page = 1) {
            return await this.request(`/recommendations/trending?type=${type}&limit=${limit}&page=${page}`);
        };

        ApiService.getGenre = async function(genre, type = 'movie', limit = 20) {
            return await this.request(`/recommendations/genre/${genre}?type=${type}&limit=${limit}`);
        };
    </script>

    <style>
        .movies-content {
            padding-top: 2rem;
        }

        .movies-hero {
            padding: 2rem 0 3rem;
            background: var(--gradient-dark);
        }

        .movies-header {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .movies-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .movies-description {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .featured-movies-section {
            padding: 3rem 0;
        }

        .featured-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .featured-movie-card {
            position: relative;
            height: 250px;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition);
        }

        .featured-movie-card:hover {
            transform: scale(1.02);
            box-shadow: var(--shadow-xl);
        }

        .featured-poster {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .featured-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .featured-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.8));
            display: flex;
            align-items: flex-end;
            padding: 2rem;
        }

        .featured-content {
            color: white;
        }

        .featured-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .featured-overview {
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .featured-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .featured-rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .movie-categories-section {
            padding: 3rem 0;
            background: var(--bg-secondary);
        }

        .category-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category-tab {
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .category-tab.active,
        .category-tab:hover {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .genre-sections {
            padding: 3rem 0;
        }

        .genre-section {
            margin-bottom: 3rem;
        }

        .all-movies-section {
            padding: 3rem 0;
            background: var(--bg-secondary);
        }

        .movie-filters {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .movies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .movie-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
        }

        .movie-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .movie-poster {
            position: relative;
            overflow: hidden;
        }

        .movie-poster img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: var(--transition);
        }

        .movie-card:hover .movie-poster img {
            transform: scale(1.1);
        }

        .movie-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
        }

        .movie-card:hover .movie-overlay {
            opacity: 1;
        }

        .trending-badge {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            width: 30px;
            height: 30px;
            background: var(--warning-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            z-index: 2;
        }

        .movie-info {
            padding: 1rem;
        }

        .movie-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .movie-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .movie-rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .movie-rating i {
            color: var(--warning-color);
        }

        .load-more-container {
            text-align: center;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .featured-grid {
                grid-template-columns: 1fr;
            }

            .category-tabs {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }

            .category-tab {
                white-space: nowrap;
                flex-shrink: 0;
            }

            .movie-filters {
                justify-content: center;
                gap: 0.5rem;
            }

            .movies-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
            }

            .featured-overlay {
                padding: 1rem;
            }

            .featured-title {
                font-size: 1.25rem;
            }

            .featured-overview {
                font-size: 0.8rem;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
        }
    </style>
</body>
</html>
```