<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineBrain 30-Day Content Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a25;
            --bg-card: #15151f;
            --accent: #8b5cf6;
            --accent-glow: rgba(139, 92, 246, 0.3);
            --accent-secondary: #a78bfa;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #606070;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border: #252535;
            --gradient-1: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            --gradient-2: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
            --gradient-3: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }

        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 45px;
            height: 45px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text span {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .header-actions {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .btn {
            padding: 0.6rem 1.25rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--gradient-1);
            color: white;
            box-shadow: 0 4px 15px var(--accent-glow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--border);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        /* Main Layout */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
        }

        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                padding: 1rem;
            }
        }

        /* Sidebar */
        .sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .progress-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .progress-header h3 {
            font-size: 1rem;
            font-weight: 600;
        }

        .progress-percentage {
            font-size: 2rem;
            font-weight: 800;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-bar-container {
            background: var(--bg-tertiary);
            border-radius: 10px;
            height: 12px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient-1);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 0.75rem;
            background: var(--bg-tertiary);
            border-radius: 10px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Day Navigator */
        .day-navigator {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1rem;
            border: 1px solid var(--border);
            max-height: 400px;
            overflow-y: auto;
        }

        .day-navigator h3 {
            font-size: 0.875rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            padding: 0 0.5rem;
        }

        .day-list {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .day-nav-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.6rem 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: transparent;
            border: none;
            color: var(--text-primary);
            width: 100%;
            text-align: left;
        }

        .day-nav-item:hover {
            background: var(--bg-tertiary);
        }

        .day-nav-item.active {
            background: var(--accent);
            color: white;
        }

        .day-nav-item.completed {
            opacity: 0.6;
        }

        .day-nav-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .day-nav-number {
            font-weight: 600;
            font-size: 0.875rem;
        }

        .day-nav-weekday {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .day-nav-item.active .day-nav-weekday {
            color: rgba(255, 255, 255, 0.8);
        }

        .day-nav-status {
            font-size: 0.875rem;
        }

        /* Content Area */
        .content-area {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Filters */
        .filters-bar {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }

        .search-box::before {
            content: "üîç";
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.875rem;
        }

        .filter-select {
            padding: 0.75rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.875rem;
            cursor: pointer;
            min-width: 150px;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent);
        }

        /* View Toggle */
        .view-toggle {
            display: flex;
            background: var(--bg-card);
            border-radius: 10px;
            padding: 4px;
            border: 1px solid var(--border);
        }

        .view-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .view-btn.active {
            background: var(--accent);
            color: white;
        }

        /* Day Card */
        .day-card {
            background: var(--bg-card);
            border-radius: 20px;
            border: 1px solid var(--border);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .day-card:hover {
            border-color: var(--accent);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .day-card.today {
            border-color: var(--accent);
            box-shadow: 0 0 30px var(--accent-glow);
        }

        .day-header {
            padding: 1.25rem 1.5rem;
            background: var(--bg-tertiary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .day-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .day-number {
            width: 50px;
            height: 50px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .day-number span:first-child {
            font-size: 0.6rem;
            text-transform: uppercase;
            opacity: 0.8;
        }

        .day-number span:last-child {
            font-size: 1.25rem;
            line-height: 1;
        }

        .day-meta h2 {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .day-meta span {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .day-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-primary);
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .day-status.completed {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
        }

        .day-status.partial {
            background: rgba(245, 158, 11, 0.15);
            color: var(--warning);
        }

        .day-status.pending {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-muted);
        }

        .posts-container {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* Post Card */
        .post-card {
            background: var(--bg-tertiary);
            border-radius: 14px;
            padding: 1.25rem;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            position: relative;
        }

        .post-card:hover {
            transform: translateX(5px);
            border-color: var(--accent-secondary);
        }

        .post-card.completed {
            opacity: 0.6;
            background: rgba(16, 185, 129, 0.05);
            border-color: var(--success);
        }

        .post-card.completed .post-title {
            text-decoration: line-through;
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .post-time-template {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .post-time {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.35rem 0.75rem;
            background: var(--bg-primary);
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--accent);
        }

        .post-template {
            padding: 0.35rem 0.75rem;
            background: var(--accent);
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .post-checkbox {
            appearance: none;
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            flex-shrink: 0;
        }

        .post-checkbox:hover {
            border-color: var(--accent);
        }

        .post-checkbox:checked {
            background: var(--success);
            border-color: var(--success);
        }

        .post-checkbox:checked::after {
            content: "‚úì";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.875rem;
            font-weight: 700;
        }

        .post-content {
            margin-bottom: 1rem;
        }

        .post-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .post-year {
            font-size: 0.875rem;
            color: var(--text-muted);
            font-weight: 400;
        }

        .post-region {
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            background: var(--warning);
            color: var(--bg-primary);
            border-radius: 4px;
            font-weight: 600;
        }

        .post-hook {
            font-style: italic;
            color: var(--accent-secondary);
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .post-overview {
            color: var(--text-secondary);
            font-size: 0.875rem;
            white-space: pre-line;
        }

        .post-list {
            margin-top: 0.5rem;
        }

        .post-list-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--accent);
        }

        .post-list ul {
            list-style: none;
            padding-left: 0;
        }

        .post-list li {
            padding: 0.35rem 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .post-list li::before {
            content: "üé¨";
            font-size: 0.75rem;
        }

        .post-hashtags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .hashtag {
            font-size: 0.75rem;
            padding: 0.25rem 0.6rem;
            background: var(--bg-primary);
            border-radius: 4px;
            color: var(--text-muted);
        }

        .post-note {
            margin-top: 0.5rem;
            padding: 0.5rem 0.75rem;
            background: rgba(245, 158, 11, 0.1);
            border-left: 3px solid var(--warning);
            border-radius: 4px;
            font-size: 0.8rem;
            color: var(--warning);
        }

        /* Calendar View */
        .calendar-view {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
        }

        @media (max-width: 768px) {
            .calendar-view {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .calendar-day {
            aspect-ratio: 1;
            background: var(--bg-card);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .calendar-day:hover {
            border-color: var(--accent);
            transform: scale(1.05);
        }

        .calendar-day.completed {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--success);
        }

        .calendar-day.partial {
            background: rgba(245, 158, 11, 0.2);
            border-color: var(--warning);
        }

        .calendar-day.today {
            box-shadow: 0 0 20px var(--accent-glow);
            border-color: var(--accent);
        }

        .calendar-day-number {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .calendar-day-label {
            font-size: 0.6rem;
            text-transform: uppercase;
            color: var(--text-muted);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-card);
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 1.25rem;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .modal-close:hover {
            color: var(--text-primary);
        }

        .modal-body {
            padding: 1.5rem;
        }

        /* Stats Overview */
        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 1.25rem;
            text-align: center;
            border: 1px solid var(--border);
        }

        .stat-card-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .stat-card-value {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--accent);
        }

        .stat-card-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        /* Today Banner */
        .today-banner {
            background: var(--gradient-1);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .today-info h2 {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 0.25rem;
        }

        .today-info p {
            opacity: 0.9;
        }

        .today-actions {
            display: flex;
            gap: 0.75rem;
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .toast {
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 1rem 1.5rem;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            animation: slideIn 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .toast.success {
            border-color: var(--success);
        }

        .toast.error {
            border-color: var(--danger);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* Loading */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .sidebar {
                position: static;
            }

            .day-header {
                flex-direction: column;
                gap: 1rem;
            }

            .post-header {
                flex-direction: column;
                gap: 0.75rem;
            }

            .post-time-template {
                flex-wrap: wrap;
            }

            .today-banner {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Animation */
        .fade-in {
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">üé¨</div>
                <div class="logo-text">
                    <h1>CineBrain</h1>
                    <span>30-Day Content Planner</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="exportProgress()">
                    üì§ Export
                </button>
                <button class="btn btn-secondary" onclick="showStatsModal()">
                    üìä Stats
                </button>
                <button class="btn btn-primary" onclick="scrollToToday()">
                    üìç Today
                </button>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Progress Card -->
            <div class="progress-card">
                <div class="progress-header">
                    <h3>Overall Progress</h3>
                    <span class="progress-percentage" id="progressPercent">0%</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>
                <div class="progress-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="completedCount">0</div>
                        <div class="stat-label">Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="remainingCount">60</div>
                        <div class="stat-label">Remaining</div>
                    </div>
                </div>
            </div>

            <!-- Day Navigator -->
            <div class="day-navigator">
                <h3>Quick Navigation</h3>
                <div class="day-list" id="dayNavigator">
                    <!-- Generated by JS -->
                </div>
            </div>
        </aside>

        <!-- Content Area -->
        <main class="content-area">
            <!-- Today Banner -->
            <div class="today-banner" id="todayBanner">
                <div class="today-info">
                    <h2>üìÖ Welcome to CineBrain!</h2>
                    <p>Let's crush your 30-day content plan</p>
                </div>
                <div class="today-actions">
                    <button class="btn btn-secondary" onclick="markDayComplete()">
                        ‚úÖ Mark Day Complete
                    </button>
                </div>
            </div>

            <!-- Stats Overview -->
            <div class="stats-overview">
                <div class="stat-card">
                    <div class="stat-card-icon">üìÖ</div>
                    <div class="stat-card-value" id="totalDays">30</div>
                    <div class="stat-card-label">Total Days</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon">üìù</div>
                    <div class="stat-card-value" id="totalPosts">60</div>
                    <div class="stat-card-label">Total Posts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon">üéØ</div>
                    <div class="stat-card-value" id="daysCompleted">0</div>
                    <div class="stat-card-label">Days Done</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon">üî•</div>
                    <div class="stat-card-value" id="streak">0</div>
                    <div class="stat-card-label">Day Streak</div>
                </div>
            </div>

            <!-- Filters -->
            <div class="filters-bar">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search movies, anime, shows...">
                </div>
                <select class="filter-select" id="templateFilter">
                    <option value="all">All Templates</option>
                    <option value="movie recommendation">Movie Rec</option>
                    <option value="hidden gem">Hidden Gem</option>
                    <option value="mind bending">Mind Bending</option>
                    <option value="anime gem">Anime Gem</option>
                    <option value="anime recommendation">Anime Rec</option>
                    <option value="tv show recommendation">TV Show Rec</option>
                    <option value="top list/curation">Top List</option>
                </select>
                <select class="filter-select" id="statusFilter">
                    <option value="all">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="completed">Completed</option>
                </select>
                <div class="view-toggle">
                    <button class="view-btn active" data-view="list" onclick="setView('list')">üìã List</button>
                    <button class="view-btn" data-view="calendar" onclick="setView('calendar')">üìÖ Calendar</button>
                </div>
            </div>

            <!-- Days Container -->
            <div id="daysContainer">
                <!-- Generated by JS -->
            </div>
        </main>
    </div>

    <!-- Stats Modal -->
    <div class="modal-overlay" id="statsModal">
        <div class="modal">
            <div class="modal-header">
                <h2>üìä Detailed Statistics</h2>
                <button class="modal-close" onclick="closeModal('statsModal')">&times;</button>
            </div>
            <div class="modal-body" id="statsModalBody">
                <!-- Generated by JS -->
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script>
        // Data
        const cinebrain30Days = [
            {
                day: 1,
                weekday: "Monday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Shutter Island",
                        year: 2010,
                        hook: "This movie breaks your mind quietly ‚Äî and most people never notice how.",
                        overview: "A psychological descent into guilt, memory, and denial.\nEvery scene means something else once you reach the end.",
                        hashtags: ["#MovieRecommendation", "#PsychologicalThriller", "#MindGames", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Enemy",
                        year: 2013,
                        hook: "Nobody explains this movie ‚Äî because it explains you.",
                        overview: "A haunting exploration of identity and suppressed fear.\nMinimal dialogue. Maximum unease.",
                        hashtags: ["#MindBending", "#HiddenMeaning", "#PsychologicalCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 2,
                weekday: "Tuesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "hidden gem",
                        title: "Coherence",
                        year: 2013,
                        hook: "One dinner. One comet. Infinite realities.",
                        overview: "A low-budget sci-fi that proves ideas matter more than effects.\nGets scarier the more you think about it.",
                        hashtags: ["#HiddenGem", "#SciFiThriller", "#UnderratedMovies", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Perfect Blue",
                        year: 1997,
                        hook: "This anime destroys the line between reality and obsession.",
                        overview: "A psychological nightmare about fame, identity, and mental collapse.",
                        hashtags: ["#AnimeGem", "#PsychologicalAnime", "#CultClassic", "#CineBrain"]
                    }
                ]
            },
            {
                day: 3,
                weekday: "Wednesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "tv show recommendation",
                        title: "Dark",
                        platform: "Netflix",
                        hook: "The most confusing show ever ‚Äî and that's why it's brilliant.",
                        overview: "Time, fate, family, and consequences collide.\nMiss one detail and everything changes.",
                        hashtags: ["#TVShowRecommendation", "#DarkNetflix", "#MindBendingSeries", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime recommendation",
                        title: "Steins;Gate",
                        hook: "Time travel with emotional consequences ‚Äî not superhero nonsense.",
                        overview: "A slow burn that rewards patience with heartbreak and brilliance.",
                        hashtags: ["#AnimeRecommendation", "#TimeTravel", "#SciFiAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 4,
                weekday: "Thursday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Arrival",
                        year: 2016,
                        hook: "This sci-fi movie makes you rethink time, language, and grief.",
                        overview: "A deeply emotional take on first contact.\nScience fiction as human experience.",
                        hashtags: ["#SciFiMovies", "#Arrival", "#EmotionalCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "hidden gem",
                        title: "Moon",
                        year: 2009,
                        hook: "One actor. One location. One terrifying idea.",
                        overview: "Isolation, identity, and corporate cruelty in space.",
                        hashtags: ["#HiddenGem", "#SciFiDrama", "#UnderratedCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 5,
                weekday: "Friday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "top list/curation",
                        listTitle: "Top 5 Mind-Bending Sci-Fi Gems",
                        items: [
                            "Coherence (2013) ‚Äì Parallel chaos",
                            "Primer (2004) ‚Äì Time for engineers",
                            "Enemy (2013) ‚Äì Identity horror",
                            "Moon (2009) ‚Äì Isolation in space",
                            "Annihilation (2018) ‚Äì Self-destruction"
                        ],
                        hashtags: ["#Top5Movies", "#MindBending", "#SciFiGems", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Mulholland Drive",
                        year: 2001,
                        hook: "This movie doesn't want to be understood ‚Äî it wants to be felt.",
                        overview: "Dream logic, identity loss, and Hollywood illusion.",
                        hashtags: ["#MindBending", "#DavidLynch", "#CultCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 6,
                weekday: "Saturday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        region: "Telugu",
                        title: "C/o Kancharapalem",
                        hook: "No heroes. No villains. Just real people.",
                        overview: "Love, caste, age, and humanity told with honesty.",
                        hashtags: ["#TeluguCinema", "#IndianFilms", "#UnderratedTelugu", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Serial Experiments Lain",
                        hook: "This anime predicted the internet ‚Äî and its loneliness.",
                        overview: "Identity dissolves in the digital age.",
                        hashtags: ["#AnimeGem", "#CyberpunkAnime", "#PsychologicalAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 7,
                weekday: "Sunday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Interstellar",
                        hook: "Love, time, and space collide here.",
                        overview: "Science fiction with emotional weight and philosophical depth.",
                        hashtags: ["#MovieRecommendation", "#Interstellar", "#SciFiEpic", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "tv show recommendation",
                        title: "True Detective",
                        season: 1,
                        hook: "Not a crime show ‚Äî a philosophical descent.",
                        overview: "Existential dread wrapped in a murder mystery.",
                        hashtags: ["#TVShowRecommendation", "#TrueDetective", "#DarkDrama", "#CineBrain"]
                    }
                ]
            },
            {
                day: 8,
                weekday: "Monday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Ex Machina",
                        year: 2014,
                        hook: "This movie asks one terrifying question: what makes us human?",
                        overview: "Artificial intelligence as manipulation, desire, and control.\nA quiet psychological duel.",
                        hashtags: ["#MovieRecommendation", "#SciFiThriller", "#ExMachina", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Primer",
                        year: 2004,
                        hook: "The smartest time-travel movie most people quit halfway.",
                        overview: "No hand-holding. No explanations.\nOnly consequences.",
                        hashtags: ["#MindBending", "#TimeTravel", "#CultCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 9,
                weekday: "Tuesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "hidden gem",
                        title: "The Man from Earth",
                        year: 2007,
                        hook: "One room. One conversation. Endless ideas.",
                        overview: "Immortality, history, and belief discussed without spectacle.",
                        hashtags: ["#HiddenGem", "#PhilosophicalCinema", "#CultFilm", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Paranoia Agent",
                        year: 2004,
                        hook: "This anime exposes fear the way horror never could.",
                        overview: "Collective anxiety and social pressure take form.",
                        hashtags: ["#AnimeGem", "#PsychologicalAnime", "#CultClassic", "#CineBrain"]
                    }
                ]
            },
            {
                day: 10,
                weekday: "Wednesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "tv show recommendation",
                        title: "Severance",
                        hook: "What if work and life were completely separated?",
                        overview: "Corporate control taken to its logical extreme.",
                        hashtags: ["#TVShowRecommendation", "#Severance", "#PsychologicalDrama", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime recommendation",
                        title: "Ergo Proxy",
                        hook: "Philosophy disguised as a dystopian anime.",
                        overview: "Identity, AI, and existential collapse.",
                        hashtags: ["#AnimeRecommendation", "#CyberpunkAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 11,
                weekday: "Thursday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Her",
                        year: 2013,
                        hook: "A love story that feels uncomfortably real.",
                        overview: "Loneliness, technology, and emotional dependence.",
                        hashtags: ["#MovieRecommendation", "#EmotionalCinema", "#HerMovie", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "hidden gem",
                        title: "A Ghost Story",
                        year: 2017,
                        hook: "Time passes. Pain remains.",
                        overview: "Grief told through silence and stillness.",
                        hashtags: ["#HiddenGem", "#ExperimentalCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 12,
                weekday: "Friday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "top list/curation",
                        listTitle: "Top 5 Psychological Movies That Break You Slowly",
                        items: [
                            "Black Swan (2010) ‚Äì Obsession",
                            "Requiem for a Dream (2000) ‚Äì Addiction",
                            "Perfect Blue (1997) ‚Äì Identity",
                            "Enemy (2013) ‚Äì Duality",
                            "Shutter Island (2010) ‚Äì Denial"
                        ],
                        hashtags: ["#Top5Movies", "#PsychologicalCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "The Lighthouse",
                        year: 2019,
                        hook: "Madness tastes like salt and sea.",
                        overview: "Isolation, myth, and psychological decay.",
                        hashtags: ["#MindBending", "#PsychologicalHorror", "#CineBrain"]
                    }
                ]
            },
            {
                day: 13,
                weekday: "Saturday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        region: "Telugu",
                        title: "Agent Sai Srinivasa Athreya",
                        hook: "A detective story that respects your intelligence.",
                        overview: "Smart writing, humor, and genuine mystery.",
                        hashtags: ["#TeluguCinema", "#IndianMystery", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Monster",
                        hook: "This anime proves villains are made, not born.",
                        overview: "Slow, intense, deeply human storytelling.",
                        hashtags: ["#AnimeGem", "#PsychologicalDrama", "#CineBrain"]
                    }
                ]
            },
            {
                day: 14,
                weekday: "Sunday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Blade Runner 2049",
                        hook: "What does it mean to be real?",
                        overview: "Identity, memory, and solitude in a neon future.",
                        hashtags: ["#MovieRecommendation", "#BladeRunner2049", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "tv show recommendation",
                        title: "The Leftovers",
                        hook: "Not about disappearance ‚Äî about grief.",
                        overview: "Faith, loss, and unanswered questions.",
                        hashtags: ["#TVShowRecommendation", "#TheLeftovers", "#CineBrain"]
                    }
                ]
            },
            {
                day: 15,
                weekday: "Monday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Donnie Darko",
                        year: 2001,
                        hook: "This movie stays with you longer than the ending.",
                        overview: "Time loops, mental health, and destiny collide.\nConfusing at first. Haunting forever.",
                        hashtags: ["#MovieRecommendation", "#CultClassic", "#MindGames", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Synecdoche, New York",
                        year: 2008,
                        hook: "This isn't a movie ‚Äî it's a slow collapse.",
                        overview: "Life, art, death, and meaning folding into one.",
                        hashtags: ["#MindBending", "#ExistentialCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 16,
                weekday: "Tuesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "hidden gem",
                        title: "The Vast of Night",
                        year: 2019,
                        hook: "Retro sci-fi with incredible atmosphere.",
                        overview: "Late-night radio, paranoia, and curiosity.",
                        hashtags: ["#HiddenGem", "#IndieSciFi", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Texhnolyze",
                        year: 2003,
                        hook: "This anime is silence, violence, and despair.",
                        overview: "A brutal vision of humanity's collapse.",
                        hashtags: ["#AnimeGem", "#DarkAnime", "#PhilosophicalAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 17,
                weekday: "Wednesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "tv show recommendation",
                        title: "Mr. Robot",
                        hook: "Reality lies to you in this show.",
                        overview: "Hacking, identity, and psychological trauma.",
                        hashtags: ["#TVShowRecommendation", "#MrRobot", "#MindGames", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime recommendation",
                        title: "Death Parade",
                        hook: "Judgment after death ‚Äî with no mercy.",
                        overview: "Morality tested through deadly games.",
                        hashtags: ["#AnimeRecommendation", "#PsychologicalAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 18,
                weekday: "Thursday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "The Prestige",
                        year: 2006,
                        hook: "The real trick is what you don't see.",
                        overview: "Obsession, sacrifice, and illusion.",
                        hashtags: ["#MovieRecommendation", "#ChristopherNolan", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "hidden gem",
                        title: "Upstream Color",
                        year: 2013,
                        hook: "This movie feels like a dream you can't explain.",
                        overview: "Identity, control, and emotional residue.",
                        hashtags: ["#HiddenGem", "#ExperimentalCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 19,
                weekday: "Friday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "top list/curation",
                        listTitle: "Top 5 Movies About Identity Loss",
                        items: [
                            "Enemy (2013) ‚Äì Dual selves",
                            "Black Swan (2010) ‚Äì Obsession",
                            "Perfect Blue (1997) ‚Äì Fame",
                            "Fight Club (1999) ‚Äì Split identity",
                            "Mulholland Drive (2001) ‚Äì Dreams"
                        ],
                        hashtags: ["#Top5Movies", "#PsychologicalCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "The Killing of a Sacred Deer",
                        year: 2017,
                        hook: "Cold, cruel, and deeply unsettling.",
                        overview: "Moral punishment without mercy.",
                        hashtags: ["#MindBending", "#PsychologicalDrama", "#CineBrain"]
                    }
                ]
            },
            {
                day: 20,
                weekday: "Saturday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        region: "Telugu",
                        title: "Prasthanam",
                        year: 2010,
                        hook: "Power always demands blood.",
                        overview: "Politics, family, and fate collide.",
                        hashtags: ["#TeluguCinema", "#IndianFilms", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Kaiba",
                        year: 2008,
                        hook: "Cute art. Crushing ideas.",
                        overview: "Memory, bodies, and inequality.",
                        hashtags: ["#AnimeGem", "#PhilosophicalAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 21,
                weekday: "Sunday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Memories of Murder",
                        year: 2003,
                        hook: "Not every mystery wants to be solved.",
                        overview: "Crime, failure, and human limits.",
                        hashtags: ["#MovieRecommendation", "#KoreanCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "tv show recommendation",
                        title: "Westworld",
                        season: 1,
                        hook: "Free will was never really free.",
                        overview: "Consciousness trapped in loops.",
                        hashtags: ["#TVShowRecommendation", "#Westworld", "#CineBrain"]
                    }
                ]
            },
            {
                day: 22,
                weekday: "Monday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Solaris",
                        year: 1972,
                        hook: "Science fiction about memory and love.",
                        overview: "A slow, philosophical meditation on loss.",
                        hashtags: ["#MovieRecommendation", "#PhilosophicalCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Stalker",
                        year: 1979,
                        hook: "This movie tests your patience ‚Äî and your soul.",
                        overview: "Faith, desire, and meaning.",
                        hashtags: ["#MindBending", "#ArtCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 23,
                weekday: "Tuesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "hidden gem",
                        title: "The Invitation",
                        year: 2015,
                        hook: "Grief makes people dangerous.",
                        overview: "Slow tension with explosive payoff.",
                        hashtags: ["#HiddenGem", "#PsychologicalThriller", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Angel's Egg",
                        year: 1985,
                        hook: "Pure symbolism. No explanations.",
                        overview: "Faith, innocence, and silence.",
                        hashtags: ["#AnimeGem", "#ExperimentalAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 24,
                weekday: "Wednesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "tv show recommendation",
                        title: "Black Mirror",
                        hook: "Technology always comes with a price.",
                        overview: "Human nature under digital pressure.",
                        hashtags: ["#TVShowRecommendation", "#BlackMirror", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime recommendation",
                        title: "Paprika",
                        year: 2006,
                        hook: "Dreams invading reality.",
                        overview: "A visual explosion of the subconscious.",
                        hashtags: ["#AnimeRecommendation", "#MindBendingAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 25,
                weekday: "Thursday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "No Country for Old Men",
                        year: 2007,
                        hook: "Evil doesn't explain itself.",
                        overview: "Violence, fate, and silence.",
                        hashtags: ["#MovieRecommendation", "#ModernClassic", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "hidden gem",
                        title: "Burning",
                        year: 2018,
                        hook: "A slow burn that never leaves you.",
                        overview: "Jealousy, class, and ambiguity.",
                        hashtags: ["#HiddenGem", "#KoreanCinema", "#CineBrain"]
                    }
                ]
            },
            {
                day: 26,
                weekday: "Friday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "top list/curation",
                        listTitle: "Top 5 Movies That Feel Like Nightmares",
                        items: [
                            "The Lighthouse (2019)",
                            "Enemy (2013)",
                            "Perfect Blue (1997)",
                            "Eraserhead (1977)",
                            "The Killing of a Sacred Deer (2017)"
                        ],
                        hashtags: ["#Top5Movies", "#DarkCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Eraserhead",
                        year: 1977,
                        hook: "Pure anxiety on film.",
                        overview: "Industrial nightmares and fear.",
                        hashtags: ["#MindBending", "#DavidLynch", "#CineBrain"]
                    }
                ]
            },
            {
                day: 27,
                weekday: "Saturday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        region: "Telugu",
                        title: "Anukokunda Oka Roju",
                        year: 2005,
                        hook: "Memory loss becomes a mystery.",
                        overview: "Tension-driven storytelling.",
                        hashtags: ["#TeluguCinema", "#IndianThriller", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "anime gem",
                        title: "Haibane Renmei",
                        year: 2002,
                        hook: "Quiet, sad, and deeply healing.",
                        overview: "Guilt, rebirth, and acceptance.",
                        hashtags: ["#AnimeGem", "#PhilosophicalAnime", "#CineBrain"]
                    }
                ]
            },
            {
                day: 28,
                weekday: "Sunday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Oldboy",
                        year: 2003,
                        hook: "Revenge never ends cleanly.",
                        overview: "Pain, memory, and punishment.",
                        hashtags: ["#MovieRecommendation", "#KoreanCinema", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "tv show recommendation",
                        title: "Dark",
                        note: "Rewatch recommendation",
                        hook: "Watch again. Notice everything.",
                        overview: "Details you missed the first time.",
                        hashtags: ["#TVShowRecommendation", "#DarkNetflix", "#CineBrain"]
                    }
                ]
            },
            {
                day: 29,
                weekday: "Monday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Joker",
                        year: 2019,
                        hook: "Society creates its own monsters.",
                        overview: "Loneliness, rage, and neglect.",
                        hashtags: ["#MovieRecommendation", "#PsychologicalDrama", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "mind bending",
                        title: "Enemy",
                        note: "Revisit",
                        hook: "Watch it again. It hits harder.",
                        overview: "Symbolism reveals itself slowly.",
                        hashtags: ["#MindBending", "#Rewatch", "#CineBrain"]
                    }
                ]
            },
            {
                day: 30,
                weekday: "Tuesday",
                posts: [
                    {
                        time: "8:15 PM",
                        template: "movie recommendation",
                        title: "Fight Club",
                        year: 1999,
                        hook: "You are not your job.",
                        overview: "Identity, masculinity, and rebellion.",
                        hashtags: ["#MovieRecommendation", "#CultClassic", "#CineBrain"]
                    },
                    {
                        time: "11:45 PM",
                        template: "top list/curation",
                        listTitle: "Top 10 Movies That Define CineBrain",
                        items: [
                            "Shutter Island",
                            "Enemy",
                            "Coherence",
                            "Arrival",
                            "Mulholland Drive",
                            "Perfect Blue",
                            "Donnie Darko",
                            "Blade Runner 2049",
                            "Stalker",
                            "Memories of Murder"
                        ],
                        hashtags: ["#CineBrain", "#FilmCuration", "#CinemaLovers"]
                    }
                ]
            }
        ];

        // State
        let completedPosts = JSON.parse(localStorage.getItem('cinebrain_completed') || '{}');
        let currentView = 'list';
        let currentDay = 1;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderDayNavigator();
            renderDays();
            updateProgress();
            setupEventListeners();
            updateTodayBanner();
        });

        // Setup Event Listeners
        function setupEventListeners() {
            document.getElementById('searchInput').addEventListener('input', debounce(filterDays, 300));
            document.getElementById('templateFilter').addEventListener('change', filterDays);
            document.getElementById('statusFilter').addEventListener('change', filterDays);
        }

        // Debounce function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Render Day Navigator
        function renderDayNavigator() {
            const container = document.getElementById('dayNavigator');
            container.innerHTML = cinebrain30Days.map(day => {
                const dayCompleted = isDayCompleted(day.day);
                const dayPartial = isDayPartial(day.day);
                const status = dayCompleted ? '‚úÖ' : (dayPartial ? 'üî∂' : '‚¨ú');
                const statusClass = dayCompleted ? 'completed' : '';

                return `
                    <button class="day-nav-item ${statusClass}" onclick="scrollToDay(${day.day})">
                        <div class="day-nav-info">
                            <span class="day-nav-number">Day ${day.day}</span>
                            <span class="day-nav-weekday">${day.weekday}</span>
                        </div>
                        <span class="day-nav-status">${status}</span>
                    </button>
                `;
            }).join('');
        }

        // Render Days
        function renderDays() {
            const container = document.getElementById('daysContainer');

            if (currentView === 'calendar') {
                renderCalendarView(container);
                return;
            }

            container.innerHTML = cinebrain30Days.map(day => {
                const dayCompleted = isDayCompleted(day.day);
                const dayPartial = isDayPartial(day.day);
                const statusClass = dayCompleted ? 'completed' : (dayPartial ? 'partial' : 'pending');
                const statusText = dayCompleted ? '‚úÖ Completed' : (dayPartial ? 'üî∂ In Progress' : '‚¨ú Pending');

                return `
                    <div class="day-card fade-in" id="day-${day.day}">
                        <div class="day-header">
                            <div class="day-info">
                                <div class="day-number">
                                    <span>Day</span>
                                    <span>${day.day}</span>
                                </div>
                                <div class="day-meta">
                                    <h2>${day.weekday}</h2>
                                    <span>${day.posts.length} posts scheduled</span>
                                </div>
                            </div>
                            <div class="day-status ${statusClass}">
                                ${statusText}
                            </div>
                        </div>
                        <div class="posts-container">
                            ${day.posts.map((post, index) => renderPost(day.day, post, index)).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Render Post
        function renderPost(dayNum, post, index) {
            const postId = `${dayNum}-${index}`;
            const isCompleted = completedPosts[postId] || false;
            const completedClass = isCompleted ? 'completed' : '';

            let contentHtml = '';

            if (post.listTitle) {
                // Top List type
                contentHtml = `
                    <div class="post-list">
                        <div class="post-list-title">${post.listTitle}</div>
                        <ul>
                            ${post.items.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                `;
            } else {
                // Regular post type
                contentHtml = `
                    <div class="post-title">
                        ${post.title}
                        ${post.year ? `<span class="post-year">(${post.year})</span>` : ''}
                        ${post.region ? `<span class="post-region">${post.region}</span>` : ''}
                        ${post.season ? `<span class="post-year">Season ${post.season}</span>` : ''}
                    </div>
                    ${post.hook ? `<div class="post-hook">"${post.hook}"</div>` : ''}
                    ${post.overview ? `<div class="post-overview">${post.overview}</div>` : ''}
                `;
            }

            return `
                <div class="post-card ${completedClass}">
                    <div class="post-header">
                        <div class="post-time-template">
                            <span class="post-time">üïê ${post.time}</span>
                            <span class="post-template">${post.template}</span>
                            ${post.platform ? `<span class="post-template" style="background: var(--danger)">${post.platform}</span>` : ''}
                        </div>
                        <input type="checkbox" class="post-checkbox" 
                            ${isCompleted ? 'checked' : ''} 
                            onchange="togglePost('${postId}', this.checked)">
                    </div>
                    <div class="post-content">
                        ${contentHtml}
                        ${post.note ? `<div class="post-note">üìå ${post.note}</div>` : ''}
                    </div>
                    <div class="post-hashtags">
                        ${post.hashtags.map(tag => `<span class="hashtag">${tag}</span>`).join('')}
                    </div>
                </div>
            `;
        }

        // Render Calendar View
        function renderCalendarView(container) {
            container.innerHTML = `
                <div class="calendar-view">
                    ${cinebrain30Days.map(day => {
                const dayCompleted = isDayCompleted(day.day);
                const dayPartial = isDayPartial(day.day);
                const statusClass = dayCompleted ? 'completed' : (dayPartial ? 'partial' : '');

                return `
                            <div class="calendar-day ${statusClass}" onclick="scrollToDay(${day.day}); setView('list');">
                                <span class="calendar-day-number">${day.day}</span>
                                <span class="calendar-day-label">${day.weekday.substring(0, 3)}</span>
                            </div>
                        `;
            }).join('')}
                </div>
            `;
        }

        // Toggle Post Completion
        function togglePost(postId, isCompleted) {
            completedPosts[postId] = isCompleted;
            localStorage.setItem('cinebrain_completed', JSON.stringify(completedPosts));

            updateProgress();
            renderDayNavigator();

            const [dayNum] = postId.split('-');
            const dayCard = document.getElementById(`day-${dayNum}`);
            if (dayCard) {
                const day = cinebrain30Days.find(d => d.day == dayNum);
                const dayCompleted = isDayCompleted(parseInt(dayNum));
                const dayPartial = isDayPartial(parseInt(dayNum));
                const statusEl = dayCard.querySelector('.day-status');

                statusEl.className = `day-status ${dayCompleted ? 'completed' : (dayPartial ? 'partial' : 'pending')}`;
                statusEl.innerHTML = dayCompleted ? '‚úÖ Completed' : (dayPartial ? 'üî∂ In Progress' : '‚¨ú Pending');
            }

            showToast(isCompleted ? '‚úÖ Post marked complete!' : '‚Ü©Ô∏è Post marked incomplete', isCompleted ? 'success' : '');
        }

        // Check if day is completed
        function isDayCompleted(dayNum) {
            const day = cinebrain30Days.find(d => d.day === dayNum);
            if (!day) return false;
            return day.posts.every((_, index) => completedPosts[`${dayNum}-${index}`]);
        }

        // Check if day is partially completed
        function isDayPartial(dayNum) {
            const day = cinebrain30Days.find(d => d.day === dayNum);
            if (!day) return false;
            const completed = day.posts.filter((_, index) => completedPosts[`${dayNum}-${index}`]).length;
            return completed > 0 && completed < day.posts.length;
        }

        // Update Progress
        function updateProgress() {
            const totalPosts = cinebrain30Days.reduce((sum, day) => sum + day.posts.length, 0);
            const completedCount = Object.values(completedPosts).filter(v => v).length;
            const percentage = Math.round((completedCount / totalPosts) * 100);

            document.getElementById('progressPercent').textContent = `${percentage}%`;
            document.getElementById('progressBar').style.width = `${percentage}%`;
            document.getElementById('completedCount').textContent = completedCount;
            document.getElementById('remainingCount').textContent = totalPosts - completedCount;
            document.getElementById('totalPosts').textContent = totalPosts;

            const daysCompleted = cinebrain30Days.filter(d => isDayCompleted(d.day)).length;
            document.getElementById('daysCompleted').textContent = daysCompleted;

            // Calculate streak
            let streak = 0;
            for (let i = 0; i < cinebrain30Days.length; i++) {
                if (isDayCompleted(cinebrain30Days[i].day)) {
                    streak++;
                } else {
                    break;
                }
            }
            document.getElementById('streak').textContent = streak;
        }

        // Filter Days
        function filterDays() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const templateFilter = document.getElementById('templateFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;

            document.querySelectorAll('.day-card').forEach(card => {
                const dayNum = parseInt(card.id.split('-')[1]);
                const day = cinebrain30Days.find(d => d.day === dayNum);

                let visible = true;

                // Template filter
                if (templateFilter !== 'all') {
                    const hasTemplate = day.posts.some(p => p.template === templateFilter);
                    if (!hasTemplate) visible = false;
                }

                // Status filter
                if (statusFilter !== 'all') {
                    const dayCompleted = isDayCompleted(dayNum);
                    if (statusFilter === 'completed' && !dayCompleted) visible = false;
                    if (statusFilter === 'pending' && dayCompleted) visible = false;
                }

                // Search filter
                if (searchTerm) {
                    const searchContent = JSON.stringify(day).toLowerCase();
                    if (!searchContent.includes(searchTerm)) visible = false;
                }

                card.style.display = visible ? 'block' : 'none';
            });
        }

        // Set View
        function setView(view) {
            currentView = view;
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.view === view);
            });
            renderDays();
        }

        // Scroll to Day
        function scrollToDay(dayNum) {
            if (currentView === 'calendar') {
                setView('list');
                setTimeout(() => {
                    const element = document.getElementById(`day-${dayNum}`);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }, 100);
            } else {
                const element = document.getElementById(`day-${dayNum}`);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }

        // Scroll to Today
        function scrollToToday() {
            // Find first incomplete day
            for (const day of cinebrain30Days) {
                if (!isDayCompleted(day.day)) {
                    scrollToDay(day.day);
                    return;
                }
            }
            scrollToDay(1);
        }

        // Mark Day Complete
        function markDayComplete() {
            // Find first incomplete day
            for (const day of cinebrain30Days) {
                if (!isDayCompleted(day.day)) {
                    day.posts.forEach((_, index) => {
                        completedPosts[`${day.day}-${index}`] = true;
                    });
                    localStorage.setItem('cinebrain_completed', JSON.stringify(completedPosts));
                    renderDays();
                    renderDayNavigator();
                    updateProgress();
                    updateTodayBanner();
                    showToast(`üéâ Day ${day.day} completed!`, 'success');
                    return;
                }
            }
            showToast('üèÜ All days already completed!', 'success');
        }

        // Update Today Banner
        function updateTodayBanner() {
            const banner = document.getElementById('todayBanner');
            let currentDay = 1;
            for (const day of cinebrain30Days) {
                if (!isDayCompleted(day.day)) {
                    currentDay = day.day;
                    break;
                }
            }

            const day = cinebrain30Days.find(d => d.day === currentDay);
            const completedToday = day.posts.filter((_, index) => completedPosts[`${currentDay}-${index}`]).length;

            banner.querySelector('.today-info h2').textContent = `üìÖ Day ${currentDay} - ${day.weekday}`;
            banner.querySelector('.today-info p').textContent = `${completedToday}/${day.posts.length} posts completed`;
        }

        // Show Stats Modal
        function showStatsModal() {
            const modal = document.getElementById('statsModal');
            const body = document.getElementById('statsModalBody');

            // Calculate stats
            const totalPosts = cinebrain30Days.reduce((sum, day) => sum + day.posts.length, 0);
            const completedCount = Object.values(completedPosts).filter(v => v).length;
            const daysCompleted = cinebrain30Days.filter(d => isDayCompleted(d.day)).length;

            // Template breakdown
            const templateStats = {};
            cinebrain30Days.forEach(day => {
                day.posts.forEach((post, index) => {
                    if (!templateStats[post.template]) {
                        templateStats[post.template] = { total: 0, completed: 0 };
                    }
                    templateStats[post.template].total++;
                    if (completedPosts[`${day.day}-${index}`]) {
                        templateStats[post.template].completed++;
                    }
                });
            });

            body.innerHTML = `
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-card-value">${Math.round((completedCount / totalPosts) * 100)}%</div>
                        <div class="stat-card-label">Overall Progress</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value">${daysCompleted}/30</div>
                        <div class="stat-card-label">Days Completed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value">${completedCount}</div>
                        <div class="stat-card-label">Posts Done</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value">${totalPosts - completedCount}</div>
                        <div class="stat-card-label">Posts Left</div>
                    </div>
                </div>
                <h3 style="margin-bottom: 1rem;">Template Breakdown</h3>
                ${Object.entries(templateStats).map(([template, stats]) => `
                    <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;">
                        <span style="text-transform: capitalize;">${template}</span>
                        <span style="color: var(--accent);">${stats.completed}/${stats.total}</span>
                    </div>
                `).join('')}
                <div style="margin-top: 1.5rem; display: flex; gap: 0.5rem;">
                    <button class="btn btn-danger" onclick="resetProgress()">üóëÔ∏è Reset All Progress</button>
                </div>
            `;

            modal.classList.add('active');
        }

        // Close Modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Reset Progress
        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                completedPosts = {};
                localStorage.removeItem('cinebrain_completed');
                renderDays();
                renderDayNavigator();
                updateProgress();
                updateTodayBanner();
                closeModal('statsModal');
                showToast('Progress reset successfully', 'success');
            }
        }

        // Export Progress
        function exportProgress() {
            const data = {
                completedPosts,
                exportDate: new Date().toISOString(),
                stats: {
                    totalPosts: cinebrain30Days.reduce((sum, day) => sum + day.posts.length, 0),
                    completedCount: Object.values(completedPosts).filter(v => v).length
                }
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `cinebrain-progress-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);

            showToast('üì§ Progress exported!', 'success');
        }

        // Show Toast
        function showToast(message, type = '') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `<span>${message}</span>`;
            container.appendChild(toast);

            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Close modal on outside click
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                }
            });
        });
    </script>
</body>

</html>