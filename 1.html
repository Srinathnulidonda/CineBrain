<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineBrain - The Mind Behind Your Next Favorite</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/components.css">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'cine-blue': {
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        },
                        'cine-purple': {
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            700: '#6d28d9',
                            800: '#5b21b6'
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'ui-sans-serif', 'system-ui']
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --cine-gradient: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
            --cine-bg: linear-gradient(135deg, #0f172a 0%, #312e81 100%);
        }

        body {
            background: var(--cine-bg);
            font-family: 'Inter', sans-serif;
            color: #e2e8f0;
        }

        .cine-gradient {
            background: var(--cine-gradient);
        }

        .content-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .hero-overlay {
            background: linear-gradient(45deg, rgba(15, 23, 42, 0.8) 0%, rgba(49, 46, 129, 0.6) 100%);
        }

        .carousel-container {
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .carousel-container::-webkit-scrollbar {
            display: none;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, .3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-expanded {
            width: 100% !important;
        }

        .avatar-dropdown {
            backdrop-filter: blur(10px);
            background: rgba(15, 23, 42, 0.9);
        }

        .mobile-nav {
            backdrop-filter: blur(10px);
            background: rgba(15, 23, 42, 0.95);
        }

        @media (max-width: 768px) {
            .carousel-container {
                padding-bottom: 80px;
            }
        }

        /* Mobile Navigation Adjustments */
        @media (max-width: 768px) {
            .navbar {
                padding: 0.5rem 0 !important;
                min-height: 60px;
            }

            .navbar-brand {
                margin-right: 0.5rem !important;
            }

            .navbar-brand .logo {
                font-size: 1.3rem !important;
                line-height: 1.2;
            }

            .navbar-brand .tagline {
                font-size: 0.65rem !important;
                margin-top: -3px !important;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 140px;
            }

            .theme-toggle {
                padding: 4px 8px !important;
                font-size: 0.8rem !important;
            }

            #auth-buttons .btn {
                font-size: 0.75rem !important;
                padding: 0.25rem 0.75rem !important;
            }

            #user-avatar {
                width: 32px !important;
                height: 32px !important;
            }

            .carousel-container {
                padding-bottom: 90px;
            }

            /* Mobile Search Expanded State */
            .mobile-search-expanded #search-container {
                position: fixed !important;
                top: 60px !important;
                left: 0 !important;
                right: 0 !important;
                background: var(--modal-bg) !important;
                padding: 1rem !important;
                z-index: 1055 !important;
                border-bottom: 1px solid var(--border-color) !important;
            }

            .mobile-search-expanded #search-container input {
                font-size: 1rem !important;
                height: 45px !important;
            }
        }

        @media (max-width: 480px) {
            .navbar-brand .tagline {
                max-width: 120px;
                font-size: 0.6rem !important;
            }

            .navbar-brand .logo {
                font-size: 1.2rem !important;
            }

            #auth-buttons .btn {
                font-size: 0.7rem !important;
                padding: 0.2rem 0.6rem !important;
            }
        }
    </style>
</head>

<body>
    <!-- Fixed Top Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top"
        style="background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); z-index: 1050;">
        <div class="container-fluid px-3 px-md-4">
            <!-- Logo & Tagline -->
            <div class="navbar-brand d-flex flex-column align-items-start me-3 me-md-4">
                <div class="logo fw-bold text-xl md:text-2xl"
                    style="background: var(--cine-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                    CineBrain
                </div>
                <div class="tagline text-muted text-xs sm:text-sm d-none d-sm-block">
                    The Mind Behind Your Next Favorite
                </div>
            </div>

            <!-- Search Component -->
            <div class="flex-grow-1 mx-3 position-relative" style="max-width: 500px;">
                <div class="d-flex align-items-center">
                    <!-- Mobile Search Icon -->
                    <button id="mobile-search-btn" class="btn btn-link text-white d-md-none p-0 me-2"
                        style="font-size: 1.2rem;">
                        <i class="fas fa-search"></i>
                    </button>

                    <!-- Search Bar (Desktop always visible, Mobile expandable) -->
                    <div id="search-container" class="d-none d-md-block w-100">
                        <form class="position-relative">
                            <input type="text" id="search-input" class="form-control rounded-pill ps-4 pe-5"
                                placeholder="Search movies, TV series, anime..."
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;">
                            <button type="submit" class="btn position-absolute end-0 top-50 translate-middle-y me-2 p-0"
                                style="background: none; border: none; color: #8b5cf6;">
                                <i class="fas fa-search"></i>
                            </button>
                        </form>

                        <!-- Search Results Dropdown -->
                        <div id="search-results" class="position-absolute w-100 mt-2 rounded-3 shadow-lg d-none"
                            style="background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); z-index: 1060; max-height: 400px; overflow-y: auto;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Avatar / Auth Buttons -->
            <div class="d-flex align-items-center">
                <!-- Public: Login & Sign Up -->
                <div id="auth-buttons" class="d-flex gap-2">
                    <button class="btn btn-outline-primary btn-sm rounded-pill px-3" data-bs-toggle="modal"
                        data-bs-target="#loginModal">
                        Login
                    </button>
                    <button class="btn btn-primary btn-sm rounded-pill px-3 cine-gradient border-0"
                        data-bs-toggle="modal" data-bs-target="#registerModal">
                        Sign Up
                    </button>
                </div>

                <!-- Logged In: Avatar Dropdown -->
                <div id="user-menu" class="dropdown d-none">
                    <button class="btn dropdown-toggle p-0 border-0" type="button" data-bs-toggle="dropdown"
                        style="background: none;">
                        <img id="user-avatar" src="https://via.placeholder.com/40" alt="User" class="rounded-circle"
                            style="width: 40px; height: 40px; object-fit: cover;">
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end avatar-dropdown rounded-3 border-0 mt-2"
                        style="min-width: 180px;">
                        <li>
                            <h6 class="dropdown-header text-white" id="user-name">User Name</h6>
                        </li>
                        <li>
                            <hr class="dropdown-divider" style="border-color: rgba(255,255,255,0.1);">
                        </li>
                        <li><a class="dropdown-item text-light" href="#"><i
                                    class="fas fa-activity me-2"></i>Activity</a></li>
                        <li><a class="dropdown-item text-light" href="#" onclick="showFavorites()"><i
                                    class="fas fa-heart me-2"></i>Favorites</a></li>
                        <li><a class="dropdown-item text-light" href="#"><i class="fas fa-user me-2"></i>Profile</a>
                        </li>
                        <li><a class="dropdown-item text-light" href="#"><i class="fas fa-cog me-2"></i>Settings</a>
                        </li>
                        <li><a class="dropdown-item text-light" href="#" onclick="showWatchlist()"><i
                                    class="fas fa-bookmark me-2"></i>Watchlist</a></li>
                        <li>
                            <hr class="dropdown-divider" style="border-color: rgba(255,255,255,0.1);">
                        </li>
                        <li><a class="dropdown-item text-danger" href="#" onclick="logout()"><i
                                    class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Bottom Navigation (Mobile Only) -->
    <nav class="mobile-nav fixed-bottom d-md-none rounded-top-4 border-top"
        style="border-color: rgba(255,255,255,0.1); z-index: 1040;">
        <div class="d-flex justify-content-around py-2">
            <button class="btn btn-link text-white p-2 flex-fill d-flex flex-column align-items-center"
                onclick="scrollToTop()">
                <i class="fas fa-home mb-1"></i>
                <small>Home</small>
            </button>
            <button class="btn btn-link text-white p-2 flex-fill d-flex flex-column align-items-center"
                onclick="toggleMobileSearch()">
                <i class="fas fa-search mb-1"></i>
                <small>Search</small>
            </button>
            <button class="btn btn-link text-white p-2 flex-fill d-flex flex-column align-items-center"
                onclick="showWatchlist()">
                <i class="fas fa-bookmark mb-1"></i>
                <small>Watchlist</small>
            </button>
            <button class="btn btn-link text-white p-2 flex-fill d-flex flex-column align-items-center"
                onclick="showFavorites()">
                <i class="fas fa-heart mb-1"></i>
                <small>Favorites</small>
            </button>
            <button class="btn btn-link text-white p-2 flex-fill d-flex flex-column align-items-center"
                onclick="showProfile()">
                <i class="fas fa-user mb-1"></i>
                <small>Profile</small>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero-section" class="position-relative" style="height: 70vh; min-height: 500px; margin-top: 70px;">
        <div id="hero-background" class="position-absolute w-100 h-100"
            style="background: linear-gradient(135deg, #0f172a 0%, #312e81 100%);">
            <!-- Hero background will be set via JavaScript -->
        </div>
        <div class="hero-overlay position-absolute w-100 h-100"></div>

        <div class="container h-100 position-relative" style="z-index: 10;">
            <div class="row h-100 align-items-center">
                <div class="col-lg-6">
                    <div class="fade-in">
                        <h1 id="hero-title" class="display-4 fw-bold text-white mb-3">
                            Discover Your Next Obsession
                        </h1>
                        <p id="hero-description" class="lead text-light mb-4">
                            Powered by AI, crafted for cinema lovers. Get personalized recommendations across movies, TV
                            series, and anime.
                        </p>
                        <div class="d-flex gap-3 flex-wrap">
                            <button id="hero-play-btn"
                                class="btn btn-primary btn-lg rounded-pill px-4 cine-gradient border-0 d-none">
                                <i class="fas fa-play me-2"></i>Play Now
                            </button>
                            <button id="hero-add-btn" class="btn btn-outline-light btn-lg rounded-pill px-4 d-none">
                                <i class="fas fa-plus me-2"></i>Add to List
                            </button>
                            <button id="hero-explore-btn"
                                class="btn btn-primary btn-lg rounded-pill px-4 cine-gradient border-0">
                                <i class="fas fa-compass me-2"></i>Explore Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container-fluid px-3 px-md-4 py-5">
        <!-- Loading State -->
        <div id="loading-state" class="text-center py-5">
            <div class="loading-spinner mx-auto mb-3"></div>
            <p class="text-muted">Loading your personalized experience...</p>
        </div>

        <!-- Content Carousels -->
        <div id="content-carousels" class="d-none">
            <!-- Public Carousels -->
            <div id="public-carousels">
                <!-- Trending Now -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white">🔥 Trending Now</h2>
                        <button class="btn btn-outline-primary btn-sm rounded-pill" onclick="loadMoreTrending()">
                            View All
                        </button>
                    </div>
                    <div id="trending-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Top Rated Movies -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white">🏆 Critics' Choice</h2>
                        <button class="btn btn-outline-primary btn-sm rounded-pill" onclick="loadMoreCriticsChoice()">
                            View All
                        </button>
                    </div>
                    <div id="critics-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- New Releases -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white">🆕 New Releases</h2>
                        <button class="btn btn-outline-primary btn-sm rounded-pill" onclick="loadMoreNewReleases()">
                            View All
                        </button>
                    </div>
                    <div id="new-releases-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Anime Highlights -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white">🎌 Anime Highlights</h2>
                        <button class="btn btn-outline-primary btn-sm rounded-pill" onclick="loadMoreAnime()">
                            View All
                        </button>
                    </div>
                    <div id="anime-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- Personalized Carousels (for logged-in users) -->
            <div id="personalized-carousels" class="d-none">
                <!-- Personalized Recommendations -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white">✨ Curated for You</h2>
                        <button class="btn btn-outline-primary btn-sm rounded-pill" onclick="loadMorePersonalized()">
                            View All
                        </button>
                    </div>
                    <div id="personalized-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Continue Watching -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white">▶️ Continue Watching</h2>
                    </div>
                    <div id="continue-watching-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Because You Watched -->
                <section class="mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h3 fw-bold text-white" id="because-you-watched-title">🎯 Because You Watched</h2>
                    </div>
                    <div id="because-you-watched-carousel" class="carousel-container">
                        <div class="d-flex gap-3" style="width: max-content;">
                            <!-- Content cards will be populated via JavaScript -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- Admin Recommendations -->
            <section class="mb-5">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2 class="h3 fw-bold text-white">👑 Admin's Choice</h2>
                    <button class="btn btn-outline-primary btn-sm rounded-pill" onclick="loadMoreAdminChoice()">
                        View All
                    </button>
                </div>
                <div id="admin-choice-carousel" class="carousel-container">
                    <div class="d-flex gap-3" style="width: max-content;">
                        <!-- Content cards will be populated via JavaScript -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Call-to-Action Banner -->
        <section id="cta-banner" class="my-5 rounded-4 p-5 text-center cine-gradient">
            <div id="public-cta" class="fade-in">
                <h3 class="fw-bold text-white mb-3">Create your CineBrain to unlock personalized worlds</h3>
                <p class="text-light mb-4">Join millions of movie lovers discovering their next favorite content with
                    AI-powered recommendations</p>
                <button class="btn btn-light btn-lg rounded-pill px-5" data-bs-toggle="modal"
                    data-bs-target="#registerModal">
                    <i class="fas fa-rocket me-2"></i>Sign Up Free
                </button>
            </div>
            <div id="premium-cta" class="fade-in d-none">
                <h3 class="fw-bold text-white mb-3">Unlock Premium Features</h3>
                <p class="text-light mb-4">Get early access to new releases, exclusive content, and advanced
                    recommendations</p>
                <button class="btn btn-light btn-lg rounded-pill px-5">
                    <i class="fas fa-crown me-2"></i>Upgrade to Premium
                </button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="py-5 mt-5" style="background: rgba(15, 23, 42, 0.8);">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="fw-bold text-xl mb-2"
                        style="background: var(--cine-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                        CineBrain
                    </div>
                    <p class="text-muted small">© 2025 CineBrain. All rights reserved.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="d-flex gap-3 justify-content-center">
                        <a href="#" class="text-muted hover:text-white">Privacy</a>
                        <a href="#" class="text-muted hover:text-white">Terms</a>
                        <a href="#" class="text-muted hover:text-white">Contact</a>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="d-flex gap-3 justify-content-end">
                        <a href="#" class="text-muted hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-muted hover:text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-muted hover:text-white"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content"
                style="background: rgba(15, 23, 42, 0.95); border: 1px solid rgba(255,255,255,0.1);">
                <div class="modal-header border-bottom-0">
                    <h5 class="modal-title text-white">Welcome Back</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="login-form">
                        <div class="mb-3">
                            <label class="form-label text-light">Username</label>
                            <input type="text" class="form-control" id="login-username" required
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;">
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-light">Password</label>
                            <input type="password" class="form-control" id="login-password" required
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;">
                        </div>
                        <button type="submit" class="btn btn-primary w-100 cine-gradient border-0" id="login-btn">
                            Login
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal fade" id="registerModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content"
                style="background: rgba(15, 23, 42, 0.95); border: 1px solid rgba(255,255,255,0.1);">
                <div class="modal-header border-bottom-0">
                    <h5 class="modal-title text-white">Join CineBrain</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="register-form">
                        <div class="mb-3">
                            <label class="form-label text-light">Username</label>
                            <input type="text" class="form-control" id="register-username" required
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;">
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-light">Email</label>
                            <input type="email" class="form-control" id="register-email" required
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;">
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-light">Password</label>
                            <input type="password" class="form-control" id="register-password" required
                                style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;">
                        </div>
                        <button type="submit" class="btn btn-primary w-100 cine-gradient border-0" id="register-btn">
                            Sign Up Free
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Detail Modal -->
    <div class="modal fade" id="contentModal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content"
                style="background: rgba(15, 23, 42, 0.95); border: 1px solid rgba(255,255,255,0.1);">
                <div class="modal-header border-bottom-0">
                    <h5 class="modal-title text-white" id="content-modal-title">Content Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="content-modal-body">
                    <!-- Content details will be populated via JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1055;">
        <div id="toast" class="toast" role="alert">
            <div class="toast-header" style="background: rgba(15, 23, 42, 0.95);">
                <strong class="me-auto text-white">CineBrain</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body text-white" style="background: rgba(15, 23, 42, 0.9);" id="toast-message">
                <!-- Toast message will be populated via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Global variables
        const API_BASE_URL = 'https://backend-app-970m.onrender.com/api';
        let currentUser = null;
        let searchTimeout = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function () {
            checkAuthStatus();
            initializeEventListeners();
            loadInitialContent();
        });

        // Check authentication status
        function checkAuthStatus() {
            const token = localStorage.getItem('cinebrain_token');
            if (token) {
                // Verify token and get user info
                fetch(`${API_BASE_URL}/user/profile`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                })
                    .then(response => {
                        if (response.ok) {
                            return response.json();
                        }
                        throw new Error('Token invalid');
                    })
                    .then(data => {
                        currentUser = data.user;
                        updateUIForLoggedInUser();
                    })
                    .catch(error => {
                        localStorage.removeItem('cinebrain_token');
                        updateUIForPublicUser();
                    });
            } else {
                updateUIForPublicUser();
            }
        }

        // Update UI for logged-in user
        function updateUIForLoggedInUser() {
            document.getElementById('auth-buttons').classList.add('d-none');
            document.getElementById('user-menu').classList.remove('d-none');
            document.getElementById('user-name').textContent = currentUser.username;
            document.getElementById('user-avatar').src = `https://ui-avatars.com/api/?name=${currentUser.username}&background=7c3aed&color=fff`;

            // Show personalized content
            document.getElementById('personalized-carousels').classList.remove('d-none');
            document.getElementById('public-cta').classList.add('d-none');
            document.getElementById('premium-cta').classList.remove('d-none');

            loadPersonalizedContent();
        }

        // Update UI for public user
        function updateUIForPublicUser() {
            document.getElementById('auth-buttons').classList.remove('d-none');
            document.getElementById('user-menu').classList.add('d-none');

            // Show public content only
            document.getElementById('personalized-carousels').classList.add('d-none');
            document.getElementById('public-cta').classList.remove('d-none');
            document.getElementById('premium-cta').classList.add('d-none');
        }

        // Initialize event listeners
        function initializeEventListeners() {
            // Search functionality
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.addEventListener('input', handleSearch);
                searchInput.addEventListener('focus', showSearchResults);
                searchInput.addEventListener('blur', hideSearchResults);
            }

            // Mobile search toggle
            document.getElementById('mobile-search-btn').addEventListener('click', toggleMobileSearch);

            // Login form
            document.getElementById('login-form').addEventListener('submit', handleLogin);

            // Register form
            document.getElementById('register-form').addEventListener('submit', handleRegister);

            // Hero action buttons
            document.getElementById('hero-explore-btn').addEventListener('click', () => {
                document.getElementById('content-carousels').scrollIntoView({ behavior: 'smooth' });
            });

            // Close search results when clicking outside
            document.addEventListener('click', function (event) {
                const searchContainer = document.getElementById('search-container');
                const searchResults = document.getElementById('search-results');
                if (searchContainer && !searchContainer.contains(event.target)) {
                    hideSearchResults();
                }
            });
        }

        // Load initial content
        async function loadInitialContent() {
            document.getElementById('loading-state').classList.remove('d-none');
            document.getElementById('content-carousels').classList.add('d-none');

            try {
                // Load hero content
                await loadHeroContent();

                // Load public content
                await Promise.all([
                    loadTrendingContent(),
                    loadCriticsChoiceContent(),
                    loadNewReleasesContent(),
                    loadAnimeContent(),
                    loadAdminChoiceContent()
                ]);

                document.getElementById('loading-state').classList.add('d-none');
                document.getElementById('content-carousels').classList.remove('d-none');
            } catch (error) {
                console.error('Error loading initial content:', error);
                showToast('Failed to load content. Please refresh the page.', 'error');
            }
        }

        // Load hero content
        async function loadHeroContent() {
            try {
                const response = await fetch(`${API_BASE_URL}/recommendations/trending?limit=1`);
                if (response.ok) {
                    const data = await response.json();
                    if (data.recommendations && data.recommendations.length > 0) {
                        const featured = data.recommendations[0];
                        updateHeroSection(featured);
                    }
                }
            } catch (error) {
                console.error('Error loading hero content:', error);
            }
        }

        // Update hero section with featured content
        function updateHeroSection(content) {
            const heroBackground = document.getElementById('hero-background');
            const heroTitle = document.getElementById('hero-title');
            const heroDescription = document.getElementById('hero-description');
            const playBtn = document.getElementById('hero-play-btn');
            const addBtn = document.getElementById('hero-add-btn');
            const exploreBtn = document.getElementById('hero-explore-btn');

            // Set background image
            if (content.poster_path) {
                heroBackground.style.backgroundImage = `url(${content.poster_path})`;
                heroBackground.style.backgroundSize = 'cover';
                heroBackground.style.backgroundPosition = 'center';
            }

            // Update content
            heroTitle.textContent = content.title;
            heroDescription.textContent = content.overview || 'Discover amazing content personalized just for you.';

            // Show content-specific buttons if logged in
            if (currentUser) {
                playBtn.classList.remove('d-none');
                addBtn.classList.remove('d-none');
                exploreBtn.classList.add('d-none');

                playBtn.onclick = () => playContent(content);
                addBtn.onclick = () => addToWatchlist(content.id);
            }
        }

        // Load trending content
        async function loadTrendingContent() {
            try {
                const response = await fetch(`${API_BASE_URL}/recommendations/trending?limit=20`);
                if (response.ok) {
                    const data = await response.json();
                    populateCarousel('trending-carousel', data.recommendations);
                }
            } catch (error) {
                console.error('Error loading trending content:', error);
            }
        }

        // Load critics choice content
        async function loadCriticsChoiceContent() {
            try {
                const response = await fetch(`${API_BASE_URL}/recommendations/critics-choice?limit=20`);
                if (response.ok) {
                    const data = await response.json();
                    populateCarousel('critics-carousel', data.recommendations);
                }
            } catch (error) {
                console.error('Error loading critics choice:', error);
            }
        }

        // Load new releases
        async function loadNewReleasesContent() {
            try {
                const response = await fetch(`${API_BASE_URL}/recommendations/new-releases?limit=20`);
                if (response.ok) {
                    const data = await response.json();
                    populateCarousel('new-releases-carousel', data.recommendations);
                }
            } catch (error) {
                console.error('Error loading new releases:', error);
            }
        }

        // Load anime content
        async function loadAnimeContent() {
            try {
                const response = await fetch(`${API_BASE_URL}/recommendations/anime?limit=20`);
                if (response.ok) {
                    const data = await response.json();
                    populateCarousel('anime-carousel', data.recommendations);
                }
            } catch (error) {
                console.error('Error loading anime content:', error);
            }
        }

        // Load admin choice content
        async function loadAdminChoiceContent() {
            try {
                const response = await fetch(`${API_BASE_URL}/recommendations/admin-choice?limit=20`);
                if (response.ok) {
                    const data = await response.json();
                    populateCarousel('admin-choice-carousel', data.recommendations);
                }
            } catch (error) {
                console.error('Error loading admin choice:', error);
            }
        }

        // Load personalized content (for logged-in users)
        async function loadPersonalizedContent() {
            if (!currentUser) return;

            try {
                // Load personalized recommendations
                const personalizedResponse = await fetch(`${API_BASE_URL}/recommendations/personalized`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    }
                });
                if (personalizedResponse.ok) {
                    const data = await personalizedResponse.json();
                    populateCarousel('personalized-carousel', data.recommendations);
                }

                // Load watchlist as "Continue Watching"
                const watchlistResponse = await fetch(`${API_BASE_URL}/user/watchlist`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    }
                });
                if (watchlistResponse.ok) {
                    const data = await watchlistResponse.json();
                    populateCarousel('continue-watching-carousel', data.watchlist);
                }

            } catch (error) {
                console.error('Error loading personalized content:', error);
            }
        }

        // Populate carousel with content
        function populateCarousel(carouselId, content) {
            const carousel = document.querySelector(`#${carouselId} .d-flex`);
            if (!carousel) return;

            carousel.innerHTML = content.map(item => createContentCard(item)).join('');
        }

        // Create content card HTML
        function createContentCard(content) {
            const posterUrl = content.poster_path || 'https://via.placeholder.com/300x450?text=No+Image';
            const rating = content.rating ? parseFloat(content.rating).toFixed(1) : 'N/A';
            const genres = content.genres ? content.genres.slice(0, 2).join(', ') : '';

            return `
                <div class="content-card flex-shrink-0 rounded-3 overflow-hidden shadow-lg" 
                     style="width: 200px; height: 320px; background: rgba(255,255,255,0.05);"
                     onclick="showContentDetails(${content.id})">
                    <div class="position-relative h-75">
                        <img src="${posterUrl}" alt="${content.title}" 
                             class="w-100 h-100 object-cover" style="object-fit: cover;">
                        <div class="position-absolute top-0 end-0 m-2">
                            <span class="badge bg-warning text-dark rounded-pill">
                                <i class="fas fa-star"></i> ${rating}
                            </span>
                        </div>
                        ${content.youtube_trailer ? `
                            <div class="position-absolute top-50 start-50 translate-middle">
                                <button class="btn btn-primary rounded-circle p-2" onclick="event.stopPropagation(); playTrailer('${content.youtube_trailer}')">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                        ` : ''}
                    </div>
                    <div class="p-3 h-25 d-flex flex-column justify-content-between">
                        <h6 class="text-white mb-1 fw-bold" style="font-size: 0.9rem; line-height: 1.2; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                            ${content.title}
                        </h6>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">${content.content_type?.toUpperCase()}</small>
                            <div class="d-flex gap-1">
                                <button class="btn btn-outline-light btn-sm p-1" onclick="event.stopPropagation(); addToWatchlist(${content.id})" title="Add to Watchlist">
                                    <i class="fas fa-bookmark" style="font-size: 0.7rem;"></i>
                                </button>
                                <button class="btn btn-outline-light btn-sm p-1" onclick="event.stopPropagation(); addToFavorites(${content.id})" title="Add to Favorites">
                                    <i class="fas fa-heart" style="font-size: 0.7rem;"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Search functionality
        function handleSearch(event) {
            const query = event.target.value.trim();

            if (searchTimeout) {
                clearTimeout(searchTimeout);
            }

            if (query.length < 2) {
                hideSearchResults();
                return;
            }

            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        }

        async function performSearch(query) {
            try {
                const response = await fetch(`${API_BASE_URL}/search?query=${encodeURIComponent(query)}&type=multi`);
                if (response.ok) {
                    const data = await response.json();
                    displaySearchResults(data.results);
                }
            } catch (error) {
                console.error('Search error:', error);
            }
        }

        function displaySearchResults(results) {
            const searchResults = document.getElementById('search-results');
            if (!results || results.length === 0) {
                searchResults.innerHTML = '<div class="p-3 text-muted">No results found</div>';
            } else {
                searchResults.innerHTML = results.slice(0, 5).map(item => `
                    <div class="p-3 border-bottom hover:bg-gray-700 cursor-pointer" onclick="showContentDetails(${item.id})" style="border-color: rgba(255,255,255,0.1);">
                        <div class="d-flex align-items-center">
                            <img src="${item.poster_path || 'https://via.placeholder.com/50x75'}" alt="${item.title}" 
                                 class="rounded me-3" style="width: 40px; height: 60px; object-fit: cover;">
                            <div>
                                <h6 class="text-white mb-1">${item.title}</h6>
                                <small class="text-muted">${item.content_type?.toUpperCase()} • ${item.rating || 'N/A'}/10</small>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            showSearchResults();
        }

        function showSearchResults() {
            document.getElementById('search-results').classList.remove('d-none');
        }

        function hideSearchResults() {
            setTimeout(() => {
                document.getElementById('search-results').classList.add('d-none');
            }, 200);
        }

        // Enhanced mobile search toggle
        function toggleMobileSearch() {
            const searchContainer = document.getElementById('search-container');
            const body = document.body;

            if (searchContainer.classList.contains('d-none')) {
                // Show search
                searchContainer.classList.remove('d-none', 'd-md-block');
                searchContainer.classList.add('d-block');
                body.classList.add('mobile-search-expanded');

                // Focus input after animation
                setTimeout(() => {
                    document.getElementById('search-input').focus();
                }, 100);
            } else {
                // Hide search
                searchContainer.classList.add('d-none', 'd-md-block');
                searchContainer.classList.remove('d-block');
                body.classList.remove('mobile-search-expanded');
            }
        }

        // Close mobile search when clicking outside
        document.addEventListener('click', function (event) {
            const searchContainer = document.getElementById('search-container');
            const searchBtn = document.getElementById('mobile-search-btn');
            const body = document.body;

            if (body.classList.contains('mobile-search-expanded')) {
                if (!searchContainer.contains(event.target) && !searchBtn.contains(event.target)) {
                    searchContainer.classList.add('d-none', 'd-md-block');
                    searchContainer.classList.remove('d-block');
                    body.classList.remove('mobile-search-expanded');
                }
            }
        });

        // Authentication functions
        async function handleLogin(event) {
            event.preventDefault();

            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const loginBtn = document.getElementById('login-btn');

            loginBtn.innerHTML = '<span class="loading-spinner"></span> Logging in...';
            loginBtn.disabled = true;

            try {
                const response = await fetch(`${API_BASE_URL}/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ username, password })
                });

                const data = await response.json();

                if (response.ok) {
                    localStorage.setItem('cinebrain_token', data.token);
                    currentUser = data.user;

                    bootstrap.Modal.getInstance(document.getElementById('loginModal')).hide();
                    updateUIForLoggedInUser();
                    showToast('Welcome back!', 'success');

                    // Reload content for personalized experience
                    loadPersonalizedContent();
                } else {
                    showToast(data.error || 'Login failed', 'error');
                }
            } catch (error) {
                console.error('Login error:', error);
                showToast('Login failed. Please try again.', 'error');
            } finally {
                loginBtn.innerHTML = 'Login';
                loginBtn.disabled = false;
            }
        }

        async function handleRegister(event) {
            event.preventDefault();

            const username = document.getElementById('register-username').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const registerBtn = document.getElementById('register-btn');

            registerBtn.innerHTML = '<span class="loading-spinner"></span> Creating account...';
            registerBtn.disabled = true;

            try {
                const response = await fetch(`${API_BASE_URL}/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ username, email, password })
                });

                const data = await response.json();

                if (response.ok) {
                    localStorage.setItem('cinebrain_token', data.token);
                    currentUser = data.user;

                    bootstrap.Modal.getInstance(document.getElementById('registerModal')).hide();
                    updateUIForLoggedInUser();
                    showToast('Welcome to CineBrain!', 'success');

                    // Load personalized content
                    loadPersonalizedContent();
                } else {
                    showToast(data.error || 'Registration failed', 'error');
                }
            } catch (error) {
                console.error('Registration error:', error);
                showToast('Registration failed. Please try again.', 'error');
            } finally {
                registerBtn.innerHTML = 'Sign Up Free';
                registerBtn.disabled = false;
            }
        }

        function logout() {
            localStorage.removeItem('cinebrain_token');
            currentUser = null;
            updateUIForPublicUser();
            showToast('Logged out successfully', 'success');

            // Reload page to reset content
            setTimeout(() => {
                location.reload();
            }, 1000);
        }

        // Content interaction functions
        async function showContentDetails(contentId) {
            try {
                const response = await fetch(`${API_BASE_URL}/content/${contentId}`);
                if (response.ok) {
                    const content = await response.json();
                    displayContentModal(content);

                    // Record interaction if logged in
                    if (currentUser) {
                        recordInteraction(contentId, 'view');
                    }
                }
            } catch (error) {
                console.error('Error loading content details:', error);
                showToast('Failed to load content details', 'error');
            }
        }

        function displayContentModal(content) {
            const modalTitle = document.getElementById('content-modal-title');
            const modalBody = document.getElementById('content-modal-body');

            modalTitle.textContent = content.title;

            const genres = content.genres ? content.genres.join(', ') : 'N/A';
            const rating = content.rating ? parseFloat(content.rating).toFixed(1) : 'N/A';

            modalBody.innerHTML = `
                <div class="row">
                    <div class="col-md-4">
                        <img src="${content.poster_path || 'https://via.placeholder.com/300x450'}" 
                             alt="${content.title}" class="w-100 rounded-3">
                    </div>
                    <div class="col-md-8">
                        <div class="mb-3">
                            <h4 class="text-white">${content.title}</h4>
                            ${content.original_title && content.original_title !== content.title ?
                    `<p class="text-muted">${content.original_title}</p>` : ''}
                        </div>
                        
                        <div class="mb-3">
                            <span class="badge bg-primary me-2">${content.content_type?.toUpperCase()}</span>
                            <span class="badge bg-warning text-dark me-2">
                                <i class="fas fa-star"></i> ${rating}
                            </span>
                            ${content.release_date ? `<span class="badge bg-secondary">${content.release_date}</span>` : ''}
                        </div>
                        
                        <div class="mb-3">
                            <h6 class="text-light">Genres</h6>
                            <p class="text-muted">${genres}</p>
                        </div>
                        
                        <div class="mb-3">
                            <h6 class="text-light">Synopsis</h6>
                            <p class="text-light">${content.overview || 'No synopsis available.'}</p>
                        </div>
                        
                        <div class="d-flex gap-2 flex-wrap">
                            ${content.youtube_trailer ? `
                                <button class="btn btn-primary" onclick="playTrailer('${content.youtube_trailer}')">
                                    <i class="fas fa-play me-2"></i>Watch Trailer
                                </button>
                            ` : ''}
                            ${currentUser ? `
                                <button class="btn btn-outline-light" onclick="addToWatchlist(${content.id})">
                                    <i class="fas fa-bookmark me-2"></i>Add to Watchlist
                                </button>
                                <button class="btn btn-outline-light" onclick="addToFavorites(${content.id})">
                                    <i class="fas fa-heart me-2"></i>Add to Favorites
                                </button>
                            ` : ''}
                        </div>
                    </div>
                </div>
                
                ${content.similar_content && content.similar_content.length > 0 ? `
                    <div class="mt-4">
                        <h5 class="text-white mb-3">More Like This</h5>
                        <div class="d-flex gap-3 overflow-auto">
                            ${content.similar_content.map(similar => `
                                <div class="flex-shrink-0" style="width: 120px;">
                                    <img src="${similar.poster_path || 'https://via.placeholder.com/120x180'}" 
                                         alt="${similar.title}" class="w-100 rounded cursor-pointer"
                                         onclick="showContentDetails(${similar.id})">
                                    <p class="text-white text-center mt-2 small">${similar.title}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
            `;

            new bootstrap.Modal(document.getElementById('contentModal')).show();
        }

        async function addToWatchlist(contentId) {
            if (!currentUser) {
                showToast('Please login to add to watchlist', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/interactions`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    },
                    body: JSON.stringify({
                        content_id: contentId,
                        interaction_type: 'watchlist'
                    })
                });

                if (response.ok) {
                    showToast('Added to watchlist!', 'success');
                } else {
                    showToast('Failed to add to watchlist', 'error');
                }
            } catch (error) {
                console.error('Watchlist error:', error);
                showToast('Failed to add to watchlist', 'error');
            }
        }

        async function addToFavorites(contentId) {
            if (!currentUser) {
                showToast('Please login to add to favorites', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/interactions`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    },
                    body: JSON.stringify({
                        content_id: contentId,
                        interaction_type: 'favorite'
                    })
                });

                if (response.ok) {
                    showToast('Added to favorites!', 'success');
                } else {
                    showToast('Failed to add to favorites', 'error');
                }
            } catch (error) {
                console.error('Favorites error:', error);
                showToast('Failed to add to favorites', 'error');
            }
        }

        async function recordInteraction(contentId, interactionType, rating = null) {
            if (!currentUser) return;

            try {
                await fetch(`${API_BASE_URL}/interactions`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    },
                    body: JSON.stringify({
                        content_id: contentId,
                        interaction_type: interactionType,
                        rating: rating
                    })
                });
            } catch (error) {
                console.error('Interaction recording error:', error);
            }
        }

        function playTrailer(youtubeUrl) {
            window.open(youtubeUrl, '_blank');
        }

        function playContent(content) {
            if (content.youtube_trailer) {
                playTrailer(content.youtube_trailer);
            } else {
                showToast('Trailer not available', 'info');
            }
        }

        // User profile functions
        async function showWatchlist() {
            if (!currentUser) {
                showToast('Please login to view watchlist', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/user/watchlist`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    displayUserList('Watchlist', data.watchlist);
                }
            } catch (error) {
                console.error('Watchlist error:', error);
                showToast('Failed to load watchlist', 'error');
            }
        }

        async function showFavorites() {
            if (!currentUser) {
                showToast('Please login to view favorites', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/user/favorites`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('cinebrain_token')}`
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    displayUserList('Favorites', data.favorites);
                }
            } catch (error) {
                console.error('Favorites error:', error);
                showToast('Failed to load favorites', 'error');
            }
        }

        function displayUserList(title, items) {
            const modalTitle = document.getElementById('content-modal-title');
            const modalBody = document.getElementById('content-modal-body');

            modalTitle.textContent = title;

            if (!items || items.length === 0) {
                modalBody.innerHTML = `
                    <div class="text-center py-5">
                        <i class="fas fa-${title === 'Favorites' ? 'heart' : 'bookmark'} fa-3x text-muted mb-3"></i>
                        <h5 class="text-muted">Your ${title.toLowerCase()} is empty</h5>
                        <p class="text-muted">Start adding content to see it here!</p>
                    </div>
                `;
            } else {
                modalBody.innerHTML = `
                    <div class="row g-3">
                        ${items.map(item => `
                            <div class="col-md-3 col-sm-4 col-6">
                                <div class="content-card rounded-3 overflow-hidden shadow" onclick="showContentDetails(${item.id})">
                                    <img src="${item.poster_path || 'https://via.placeholder.com/300x450'}" 
                                         alt="${item.title}" class="w-100" style="aspect-ratio: 2/3; object-fit: cover;">
                                    <div class="p-2">
                                        <h6 class="text-white mb-1 small">${item.title}</h6>
                                        <small class="text-muted">${item.content_type?.toUpperCase()}</small>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            new bootstrap.Modal(document.getElementById('contentModal')).show();
        }

        function showProfile() {
            if (!currentUser) {
                showToast('Please login to view profile', 'error');
                return;
            }
            showToast('Profile feature coming soon!', 'info');
        }

        // Utility functions
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');

            toastMessage.textContent = message;

            // Update toast styling based on type
            toast.className = 'toast';
            if (type === 'success') {
                toast.classList.add('bg-success');
            } else if (type === 'error') {
                toast.classList.add('bg-danger');
            } else {
                toast.classList.add('bg-info');
            }

            new bootstrap.Toast(toast).show();
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Load more functions (placeholder)
        function loadMoreTrending() {
            showToast('Load more feature coming soon!', 'info');
        }

        function loadMoreCriticsChoice() {
            showToast('Load more feature coming soon!', 'info');
        }

        function loadMoreNewReleases() {
            showToast('Load more feature coming soon!', 'info');
        }

        function loadMoreAnime() {
            showToast('Load more feature coming soon!', 'info');
        }

        function loadMoreAdminChoice() {
            showToast('Load more feature coming soon!', 'info');
        }

        function loadMorePersonalized() {
            showToast('Load more feature coming soon!', 'info');
        }
    </script>
</body>

</html>